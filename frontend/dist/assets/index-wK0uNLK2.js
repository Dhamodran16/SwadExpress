import{r as ga,a as xa,g as ya,b as m,R as L,u as lr,c as oe,d as ba,e as Y,f as An,N as Rn,B as va}from"./vendor-C1aNDzcN.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var Cs={exports:{}},ht={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sr;function wa(){if(Sr)return ht;Sr=1;var t=ga(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},x=null,p=null;d!==void 0&&(x=""+d),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(p=c.ref);for(u in c)n.call(c,u)&&!a.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:x,ref:p,props:h,_owner:i.current}}return ht.Fragment=s,ht.jsx=o,ht.jsxs=o,ht}var kr;function Na(){return kr||(kr=1,Cs.exports=wa()),Cs.exports}var r=Na(),Ut={},Pr;function ja(){if(Pr)return Ut;Pr=1;var t=xa();return Ut.createRoot=t.createRoot,Ut.hydrateRoot=t.hydrateRoot,Ut}var _a=ja();const Ea=ya(_a);function On(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=On(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function We(){for(var t,e,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=On(t))&&(n&&(n+=" "),n+=e);return n}function Ta(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}Ta(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var jt=t=>typeof t=="number"&&!isNaN(t),Je=t=>typeof t=="string",Ee=t=>typeof t=="function",Ia=t=>Je(t)||jt(t),Bs=t=>Je(t)||Ee(t)?t:null,Ca=(t,e)=>t===!1||jt(t)&&t>0?t:e,Hs=t=>m.isValidElement(t)||Je(t)||Ee(t)||jt(t);function Sa(t,e,s=300){let{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${s}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,s)})})}function ka({enter:t,exit:e,appendPosition:s=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:a,position:o,preventExitTransition:l,done:c,nodeRef:d,isIn:u,playToast:h}){let x=s?`${t}--${o}`:t,p=s?`${e}--${o}`:e,b=m.useRef(0);return m.useLayoutEffect(()=>{let w=d.current,v=x.split(" "),j=y=>{y.target===d.current&&(h(),w.removeEventListener("animationend",j),w.removeEventListener("animationcancel",j),b.current===0&&y.type!=="animationcancel"&&w.classList.remove(...v))};w.classList.add(...v),w.addEventListener("animationend",j),w.addEventListener("animationcancel",j)},[]),m.useEffect(()=>{let w=d.current,v=()=>{w.removeEventListener("animationend",v),n?Sa(w,c,i):c()};u||(l?v():(b.current=1,w.className+=` ${p}`,w.addEventListener("animationend",v)))},[u]),L.createElement(L.Fragment,null,a)}}function Ar(t,e){return{content:Dn(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Dn(t,e,s=!1){return m.isValidElement(t)&&!Je(t.type)?m.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:s}):Ee(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:s}):t}function Pa({closeToast:t,theme:e,ariaLabel:s="close"}){return L.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),t(!0)},"aria-label":s},L.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},L.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Aa({delay:t,isRunning:e,closeToast:s,type:n="default",hide:i,className:a,controlledProgress:o,progress:l,rtl:c,isIn:d,theme:u}){let h=i||o&&l===0,x={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(x.transform=`scaleX(${l})`);let p=We("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),b=Ee(a)?a({rtl:c,type:n,defaultClassName:p}):We(p,a),w={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{d&&s()}};return L.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},L.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${n}`}),L.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:b,style:x,...w}))}var Ra=1,Ln=()=>`${Ra++}`;function Oa(t,e,s){let n=1,i=0,a=[],o=[],l=e,c=new Map,d=new Set,u=y=>(d.add(y),()=>d.delete(y)),h=()=>{o=Array.from(c.values()),d.forEach(y=>y())},x=({containerId:y,toastId:N,updateId:E})=>{let k=y?y!==t:t!==1,R=c.has(N)&&E==null;return k||R},p=(y,N)=>{c.forEach(E=>{var k;(N==null||N===E.props.toastId)&&((k=E.toggle)==null||k.call(E,y))})},b=y=>{var N,E;(E=(N=y.props)==null?void 0:N.onClose)==null||E.call(N,y.removalReason),y.isActive=!1},w=y=>{if(y==null)c.forEach(b);else{let N=c.get(y);N&&b(N)}h()},v=()=>{i-=a.length,a=[]},j=y=>{var N,E;let{toastId:k,updateId:R}=y.props,_=R==null;y.staleId&&c.delete(y.staleId),y.isActive=!0,c.set(k,y),h(),s(Ar(y,_?"added":"updated")),_&&((E=(N=y.props).onOpen)==null||E.call(N))};return{id:t,props:l,observe:u,toggle:p,removeToast:w,toasts:c,clearQueue:v,buildToast:(y,N)=>{if(x(N))return;let{toastId:E,updateId:k,data:R,staleId:_,delay:S}=N,f=k==null;f&&i++;let I={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(N).filter(([A,M])=>M!=null)),toastId:E,updateId:k,data:R,isIn:!1,className:Bs(N.className||l.toastClassName),progressClassName:Bs(N.progressClassName||l.progressClassName),autoClose:N.isLoading?!1:Ca(N.autoClose,l.autoClose),closeToast(A){c.get(E).removalReason=A,w(E)},deleteToast(){let A=c.get(E);if(A!=null){if(s(Ar(A,"removed")),c.delete(E),i--,i<0&&(i=0),a.length>0){j(a.shift());return}h()}}};I.closeButton=l.closeButton,N.closeButton===!1||Hs(N.closeButton)?I.closeButton=N.closeButton:N.closeButton===!0&&(I.closeButton=Hs(l.closeButton)?l.closeButton:!0);let O={content:y,props:I,staleId:_};l.limit&&l.limit>0&&i>l.limit&&f?a.push(O):jt(S)?setTimeout(()=>{j(O)},S):j(O)},setProps(y){l=y},setToggle:(y,N)=>{let E=c.get(y);E&&(E.toggle=N)},isToastActive:y=>{var N;return(N=c.get(y))==null?void 0:N.isActive},getSnapshot:()=>o}}var Z=new Map,yt=[],zs=new Set,Da=t=>zs.forEach(e=>e(t)),Mn=()=>Z.size>0;function La(){yt.forEach(t=>Fn(t.content,t.options)),yt=[]}var Ma=(t,{containerId:e})=>{var s;return(s=Z.get(e||1))==null?void 0:s.toasts.get(t)};function Un(t,e){var s;if(e)return!!((s=Z.get(e))!=null&&s.isToastActive(t));let n=!1;return Z.forEach(i=>{i.isToastActive(t)&&(n=!0)}),n}function Ua(t){if(!Mn()){yt=yt.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Ia(t))Z.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Z.get(t.containerId);e?e.removeToast(t.id):Z.forEach(s=>{s.removeToast(t.id)})}}var Fa=(t={})=>{Z.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Fn(t,e){Hs(t)&&(Mn()||yt.push({content:t,options:e}),Z.forEach(s=>{s.buildToast(t,e)}))}function $a(t){var e;(e=Z.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function $n(t,e){Z.forEach(s=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===s.id)&&s.toggle(t,e==null?void 0:e.id)})}function Ba(t){let e=t.containerId||1;return{subscribe(s){let n=Oa(e,t,Da);Z.set(e,n);let i=n.observe(s);return La(),()=>{i(),Z.delete(e)}},setProps(s){var n;(n=Z.get(e))==null||n.setProps(s)},getSnapshot(){var s;return(s=Z.get(e))==null?void 0:s.getSnapshot()}}}function Ha(t){return zs.add(t),()=>{zs.delete(t)}}function za(t){return t&&(Je(t.toastId)||jt(t.toastId))?t.toastId:Ln()}function _t(t,e){return Fn(t,e),e.toastId}function ls(t,e){return{...e,type:e&&e.type||t,toastId:za(e)}}function cs(t){return(e,s)=>_t(e,ls(t,s))}function U(t,e){return _t(t,ls("default",e))}U.loading=(t,e)=>_t(t,ls("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Va(t,{pending:e,error:s,success:n},i){let a;e&&(a=Je(e)?U.loading(e,i):U.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,u,h)=>{if(u==null){U.dismiss(a);return}let x={type:d,...o,...i,data:h},p=Je(u)?{render:u}:u;return a?U.update(a,{...x,...p}):U(p.render,{...x,...p}),h},c=Ee(t)?t():t;return c.then(d=>l("success",n,d)).catch(d=>l("error",s,d)),c}U.promise=Va;U.success=cs("success");U.info=cs("info");U.error=cs("error");U.warning=cs("warning");U.warn=U.warning;U.dark=(t,e)=>_t(t,ls("default",{theme:"dark",...e}));function qa(t){Ua(t)}U.dismiss=qa;U.clearWaitingQueue=Fa;U.isActive=Un;U.update=(t,e={})=>{let s=Ma(t,e);if(s){let{props:n,content:i}=s,a={delay:100,...n,...e,toastId:e.toastId||t,updateId:Ln()};a.toastId!==t&&(a.staleId=t);let o=a.render||i;delete a.render,_t(o,a)}};U.done=t=>{U.update(t,{progress:1})};U.onChange=Ha;U.play=t=>$n(!0,t);U.pause=t=>$n(!1,t);function Wa(t){var e;let{subscribe:s,getSnapshot:n,setProps:i}=m.useRef(Ba(t)).current;i(t);let a=(e=m.useSyncExternalStore(s,n,n))==null?void 0:e.slice();function o(l){if(!a)return[];let c=new Map;return t.newestOnTop&&a.reverse(),a.forEach(d=>{let{position:u}=d.props;c.has(u)||c.set(u,[]),c.get(u).push(d)}),Array.from(c,d=>l(d[0],d[1]))}return{getToastToRender:o,isToastActive:Un,count:a==null?void 0:a.length}}function Ga(t){let[e,s]=m.useState(!1),[n,i]=m.useState(!1),a=m.useRef(null),o=m.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:h}=t;$a({id:t.toastId,containerId:t.containerId,fn:s}),m.useEffect(()=>{if(t.pauseOnFocusLoss)return x(),()=>{p()}},[t.pauseOnFocusLoss]);function x(){document.hasFocus()||j(),window.addEventListener("focus",v),window.addEventListener("blur",j)}function p(){window.removeEventListener("focus",v),window.removeEventListener("blur",j)}function b(_){if(t.draggable===!0||t.draggable===_.pointerType){y();let S=a.current;o.canCloseOnClick=!0,o.canDrag=!0,S.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=S.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function w(_){let{top:S,bottom:f,left:I,right:O}=a.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=I&&_.clientX<=O&&_.clientY>=S&&_.clientY<=f?j():v()}function v(){s(!0)}function j(){s(!1)}function y(){o.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",k)}function N(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",k)}function E(_){let S=a.current;if(o.canDrag&&S){o.didMove=!0,e&&j(),t.draggableDirection==="x"?o.delta=_.clientX-o.start:o.delta=_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1);let f=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;S.style.transform=`translate3d(${f},0)`,S.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function k(){N();let _=a.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let R={onPointerDown:b,onPointerUp:w};return l&&c&&(R.onMouseEnter=j,t.stacked||(R.onMouseLeave=v)),h&&(R.onClick=_=>{u&&u(_),o.canCloseOnClick&&d(!0)}),{playToast:v,pauseToast:j,isRunning:e,preventExitTransition:n,toastRef:a,eventHandlers:R}}var Ka=typeof window<"u"?m.useLayoutEffect:m.useEffect,ds=({theme:t,type:e,isLoading:s,...n})=>L.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function Ja(t){return L.createElement(ds,{...t},L.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Ya(t){return L.createElement(ds,{...t},L.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Xa(t){return L.createElement(ds,{...t},L.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Qa(t){return L.createElement(ds,{...t},L.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Za(){return L.createElement("div",{className:"Toastify__spinner"})}var Vs={info:Ya,warning:Ja,success:Xa,error:Qa,spinner:Za},eo=t=>t in Vs;function to({theme:t,type:e,isLoading:s,icon:n}){let i=null,a={theme:t,type:e};return n===!1||(Ee(n)?i=n({...a,isLoading:s}):m.isValidElement(n)?i=m.cloneElement(n,a):s?i=Vs.spinner():eo(e)&&(i=Vs[e](a))),i}var so=t=>{let{isRunning:e,preventExitTransition:s,toastRef:n,eventHandlers:i,playToast:a}=Ga(t),{closeButton:o,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:h,closeToast:x,transition:p,position:b,className:w,style:v,progressClassName:j,updateId:y,role:N,progress:E,rtl:k,toastId:R,deleteToast:_,isIn:S,isLoading:f,closeOnClick:I,theme:O,ariaLabel:A}=t,M=We("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":I}),J=Ee(w)?w({rtl:k,position:b,type:u,defaultClassName:M}):We(M,w),te=to(t),ke=!!E||!c,fe={closeToast:x,type:u,theme:O},me=null;return o===!1||(Ee(o)?me=o(fe):m.isValidElement(o)?me=m.cloneElement(o,fe):me=Pa(fe)),L.createElement(p,{isIn:S,done:_,position:b,preventExitTransition:s,nodeRef:n,playToast:a},L.createElement("div",{id:R,tabIndex:0,onClick:d,"data-in":S,className:J,...i,style:v,ref:n,...S&&{role:N,"aria-label":A}},te!=null&&L.createElement("div",{className:We("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!f})},te),Dn(l,t,!e),me,!t.customProgressBar&&L.createElement(Aa,{...y&&!ke?{key:`p-${y}`}:{},rtl:k,theme:O,delay:c,isRunning:e,isIn:S,closeToast:x,hide:h,type:u,className:j,controlledProgress:ke,progress:E||0})))},ro=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),no=ka(ro("bounce",!0)),io={position:"top-right",transition:no,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function cr(t){let e={...io,...t},s=t.stacked,[n,i]=m.useState(!0),a=m.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=Wa(e),{className:d,style:u,rtl:h,containerId:x,hotKeys:p}=e;function b(v){let j=We("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":h});return Ee(d)?d({position:v,rtl:h,defaultClassName:j}):We(j,Bs(d))}function w(){s&&(i(!0),U.play())}return Ka(()=>{var v;if(s){let j=a.current.querySelectorAll('[data-in="true"]'),y=12,N=(v=e.position)==null?void 0:v.includes("top"),E=0,k=0;Array.from(j).reverse().forEach((R,_)=>{let S=R;S.classList.add("Toastify__toast--stacked"),_>0&&(S.dataset.collapsed=`${n}`),S.dataset.pos||(S.dataset.pos=N?"top":"bot");let f=E*(n?.2:1)+(n?0:y*_);S.style.setProperty("--y",`${N?f:f*-1}px`),S.style.setProperty("--g",`${y}`),S.style.setProperty("--s",`${1-(n?k:0)}`),E+=S.offsetHeight,k+=.025})}},[n,c,s]),m.useEffect(()=>{function v(j){var y;let N=a.current;p(j)&&((y=N.querySelector('[tabIndex="0"]'))==null||y.focus(),i(!1),U.pause()),j.key==="Escape"&&(document.activeElement===N||N!=null&&N.contains(document.activeElement))&&(i(!0),U.play())}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}},[p]),L.createElement("section",{ref:a,className:"Toastify",id:x,onMouseEnter:()=>{s&&(i(!1),U.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((v,j)=>{let y=j.length?{...u}:{...u,pointerEvents:"none"};return L.createElement("div",{tabIndex:-1,className:b(v),"data-stacked":s,style:y,key:`c-${v}`},j.map(({content:N,props:E})=>L.createElement(so,{...E,stacked:s,collapseAll:w,isIn:l(E.toastId,E.containerId),key:`t-${E.key}`},N)))}))}let ao={data:""},oo=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ao,lo=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,co=/\/\*[^]*?\*\/|  +/g,Rr=/\n+/g,Re=(t,e)=>{let s="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?s=a+" "+o+";":n+=a[1]=="f"?Re(o,a):a+"{"+Re(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=Re(o,e?e.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Re.p?Re.p(a,o):a+":"+o+";")}return s+(e&&i?e+"{"+i+"}":i)+n},be={},Bn=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+Bn(t[s]);return e}return t},uo=(t,e,s,n,i)=>{let a=Bn(t),o=be[a]||(be[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!be[o]){let c=a!==t?t:(d=>{let u,h,x=[{}];for(;u=lo.exec(d.replace(co,""));)u[4]?x.shift():u[3]?(h=u[3].replace(Rr," ").trim(),x.unshift(x[0][h]=x[0][h]||{})):x[0][u[1]]=u[2].replace(Rr," ").trim();return x[0]})(t);be[o]=Re(i?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&be.g?be.g:null;return s&&(be.g=be[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(be[o],e,n,l),o},ho=(t,e,s)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Re(l,""):l===!1?"":l}return n+i+(o??"")},"");function us(t){let e=this||{},s=t.call?t(e.p):t;return uo(s.unshift?s.raw?ho(s,[].slice.call(arguments,1),e.p):s.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):s,oo(e.target),e.g,e.o,e.k)}let Hn,qs,Ws;us.bind({g:1});let Te=us.bind({k:1});function fo(t,e,s,n){Re.p=e,Hn=t,qs=s,Ws=n}function Ue(t,e){let s=this||{};return function(){let n=arguments;function i(a,o){let l=Object.assign({},a),c=l.className||i.className;s.p=Object.assign({theme:qs&&qs()},l),s.o=/ *go\d+/.test(c),l.className=us.apply(s,n)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),Ws&&d[0]&&Ws(l),Hn(d,l)}return i}}var mo=t=>typeof t=="function",Jt=(t,e)=>mo(t)?t(e):t,po=(()=>{let t=0;return()=>(++t).toString()})(),zn=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),go=20,Vn=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,go)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:s}=e;return Vn(t,{type:t.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Bt=[],ze={toasts:[],pausedAt:void 0},Ze=t=>{ze=Vn(ze,t),Bt.forEach(e=>{e(ze)})},xo={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yo=(t={})=>{let[e,s]=m.useState(ze),n=m.useRef(ze);m.useEffect(()=>(n.current!==ze&&s(ze),Bt.push(s),()=>{let a=Bt.indexOf(s);a>-1&&Bt.splice(a,1)}),[]);let i=e.toasts.map(a=>{var o,l,c;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||xo[a.type],style:{...t.style,...(c=t[a.type])==null?void 0:c.style,...a.style}}});return{...e,toasts:i}},bo=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||po()}),Et=t=>(e,s)=>{let n=bo(e,t,s);return Ze({type:2,toast:n}),n.id},F=(t,e)=>Et("blank")(t,e);F.error=Et("error");F.success=Et("success");F.loading=Et("loading");F.custom=Et("custom");F.dismiss=t=>{Ze({type:3,toastId:t})};F.remove=t=>Ze({type:4,toastId:t});F.promise=(t,e,s)=>{let n=F.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?Jt(e.success,i):void 0;return a?F.success(a,{id:n,...s,...s==null?void 0:s.success}):F.dismiss(n),i}).catch(i=>{let a=e.error?Jt(e.error,i):void 0;a?F.error(a,{id:n,...s,...s==null?void 0:s.error}):F.dismiss(n)}),t};var vo=(t,e)=>{Ze({type:1,toast:{id:t,height:e}})},wo=()=>{Ze({type:5,time:Date.now()})},gt=new Map,No=1e3,jo=(t,e=No)=>{if(gt.has(t))return;let s=setTimeout(()=>{gt.delete(t),Ze({type:4,toastId:t})},e);gt.set(t,s)},_o=t=>{let{toasts:e,pausedAt:s}=yo(t);m.useEffect(()=>{if(s)return;let a=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&F.dismiss(l.id);return}return setTimeout(()=>F.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,s]);let n=m.useCallback(()=>{s&&Ze({type:6,time:Date.now()})},[s]),i=m.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},u=e.filter(p=>(p.position||d)===(a.position||d)&&p.height),h=u.findIndex(p=>p.id===a.id),x=u.filter((p,b)=>b<h&&p.visible).length;return u.filter(p=>p.visible).slice(...l?[x+1]:[0,x]).reduce((p,b)=>p+(b.height||0)+c,0)},[e]);return m.useEffect(()=>{e.forEach(a=>{if(a.dismissed)jo(a.id,a.removeDelay);else{let o=gt.get(a.id);o&&(clearTimeout(o),gt.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:vo,startPause:wo,endPause:n,calculateOffset:i}}},Eo=Te`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,To=Te`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Io=Te`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Co=Ue("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Eo} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${To} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Io} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,So=Te`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ko=Ue("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${So} 1s linear infinite;
`,Po=Te`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ao=Te`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ro=Ue("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Po} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ao} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Oo=Ue("div")`
  position: absolute;
`,Do=Ue("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Lo=Te`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Mo=Ue("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Lo} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Uo=({toast:t})=>{let{icon:e,type:s,iconTheme:n}=t;return e!==void 0?typeof e=="string"?m.createElement(Mo,null,e):e:s==="blank"?null:m.createElement(Do,null,m.createElement(ko,{...n}),s!=="loading"&&m.createElement(Oo,null,s==="error"?m.createElement(Co,{...n}):m.createElement(Ro,{...n})))},Fo=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$o=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Bo="0%{opacity:0;} 100%{opacity:1;}",Ho="0%{opacity:1;} 100%{opacity:0;}",zo=Ue("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vo=Ue("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qo=(t,e)=>{let s=t.includes("top")?1:-1,[n,i]=zn()?[Bo,Ho]:[Fo(s),$o(s)];return{animation:e?`${Te(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Te(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Wo=m.memo(({toast:t,position:e,style:s,children:n})=>{let i=t.height?qo(t.position||e||"top-center",t.visible):{opacity:0},a=m.createElement(Uo,{toast:t}),o=m.createElement(Vo,{...t.ariaProps},Jt(t.message,t));return m.createElement(zo,{className:t.className,style:{...i,...s,...t.style}},typeof n=="function"?n({icon:a,message:o}):m.createElement(m.Fragment,null,a,o))});fo(m.createElement);var Go=({id:t,className:e,style:s,onHeightUpdate:n,children:i})=>{let a=m.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return m.createElement("div",{ref:a,className:e,style:s},i)},Ko=(t,e)=>{let s=t.includes("top"),n=s?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...n,...i}},Jo=us`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ft=16,Yo=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=_o(s);return m.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ft,left:Ft,right:Ft,bottom:Ft,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||e,h=c.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),x=Ko(u,h);return m.createElement(Go,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?Jo:"",style:x},d.type==="custom"?Jt(d.message,d):i?i(d):m.createElement(Wo,{toast:d,position:u}))}))};const qn=m.createContext(void 0),Tt=()=>{const t=m.useContext(qn);if(!t)throw new Error("useCart must be used within a CartProvider");return t},Xo=({children:t})=>{const[e,s]=m.useState(()=>{try{const u=localStorage.getItem("cart");return u?JSON.parse(u):[]}catch(u){return console.error("Error loading cart from localStorage:",u),[]}});m.useEffect(()=>{try{localStorage.setItem("cart",JSON.stringify(e))}catch(u){console.error("Error saving cart to localStorage:",u)}},[e]);const n=u=>typeof u.id=="string"&&typeof u.name=="string"&&typeof u.price=="number"&&typeof u.quantity=="number"&&u.quantity>0&&u.price>=0,i=u=>{if(!n(u)){console.error("Invalid cart item:",u);return}s(h=>h.find(p=>p.id===u.id)?h.map(p=>p.id===u.id?{...p,quantity:p.quantity+u.quantity}:p):[...h,u])},a=u=>{s(h=>h.filter(x=>x.id!==u))},o=(u,h)=>{if(h<=0){a(u);return}s(x=>x.map(p=>p.id===u?{...p,quantity:h}:p))},l=()=>s([]),c=()=>e.reduce((u,h)=>u+h.price*h.quantity,0),d=()=>e.reduce((u,h)=>u+h.quantity,0);return r.jsx(qn.Provider,{value:{items:e,addItem:i,removeItem:a,updateQuantity:o,clearCart:l,getTotalPrice:c,getItemCount:d},children:t})},Qo=()=>{const{itemId:t}=lr(),e=oe(),[s,n]=m.useState(null),[i,a]=m.useState(null),[o,l]=m.useState(!0),[c,d]=m.useState(null),{addItem:u}=Tt(),h="https://food-delivery-server-8aer.onrender.com";m.useEffect(()=>{(async()=>{try{l(!0),d(null);const b=await fetch(`${h}/api/menu/${t}`);if(!b.ok)throw new Error("Failed to fetch menu item details");const w=await b.json();n(w);const v=await fetch(`${h}/api/restaurants/${w.restaurantId._id}`);if(!v.ok)throw new Error("Failed to fetch restaurant details");const j=await v.json();a(j),document.title=`${w.name} | ${j.name}`}catch(b){d(b instanceof Error?b.message:"An unexpected error occurred")}finally{l(!1)}})()},[t]);const x=()=>{if(s)try{if(!s.isAvailable){F.error("This item is currently unavailable");return}u({id:s._id||s.id||"",name:s.name,price:s.price,quantity:1,image:s.image,restaurantId:s.restaurantId._id,restaurantName:s.restaurantId.name,deliveryTime:s.deliveryTime}),F.success(`${s.name} added to cart!`)}catch(p){console.error("Error adding item to cart:",p),F.error("Failed to add item to cart. Please try again.")}};return o?r.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:r.jsx("p",{className:"text-lg text-gray-600",children:"Loading item details..."})}):c?r.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:r.jsx("p",{className:"text-lg text-red-500",children:c})}):!s||!i?r.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:r.jsx("p",{className:"text-lg text-gray-500",children:"Item not found."})}):r.jsx("div",{className:"bg-gray-50 min-h-screen pb-10",children:r.jsxs("div",{className:"max-w-3xl mx-auto pt-8",children:[r.jsx("button",{onClick:()=>e(`/restaurant/${i._id}`),className:"text-indigo-600 hover:underline mb-4 flex items-center text-sm font-medium",children:"← Back to Restaurant"}),r.jsx("div",{className:"bg-white rounded-xl shadow p-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[r.jsx("div",{className:"w-full md:w-1/2",children:r.jsx("img",{src:s.image||"https://via.placeholder.com/400x400?text=No+Image",alt:s.name||"Menu item image",className:"w-full h-96 object-cover rounded-lg"})}),r.jsxs("div",{className:"w-full md:w-1/2",children:[r.jsx("h1",{className:"text-3xl font-bold mb-4",children:s.name}),r.jsx("p",{className:"text-gray-600 mb-6",children:s.description}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Restaurant Details"}),r.jsx("p",{className:"text-gray-600",children:i.name}),r.jsxs("p",{className:"text-gray-600",children:["Cuisine: ",i.cuisine]}),r.jsxs("p",{className:"text-gray-600",children:["Rating: ",i.rating]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Item Details"}),r.jsxs("p",{className:"text-gray-600",children:["Category: ",s.category]}),r.jsxs("p",{className:"text-gray-600",children:["Price: ₹",s.price.toFixed(2)]}),r.jsxs("p",{className:"text-gray-600",children:["Vegetarian: ",s.isVegetarian?"Yes":"No"]}),r.jsxs("p",{className:"text-gray-600",children:["Spicy: ",s.isSpicy?"Yes":"No"]})]}),r.jsx("button",{onClick:x,disabled:!s.isAvailable,className:`w-full bg-orange-500 text-white py-3 rounded-lg hover:bg-orange-600 transition-colors ${s.isAvailable?"":"cursor-not-allowed bg-gray-300"}`,children:s.isAvailable?"Add to Cart":"Unavailable"})]})]})})]})})};function Wn(t,e){return function(){return t.apply(e,arguments)}}const{toString:Zo}=Object.prototype,{getPrototypeOf:dr}=Object,{iterator:hs,toStringTag:Gn}=Symbol,fs=(t=>e=>{const s=Zo.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ue=t=>(t=t.toLowerCase(),e=>fs(e)===t),ms=t=>e=>typeof e===t,{isArray:ot}=Array,bt=ms("undefined");function el(t){return t!==null&&!bt(t)&&t.constructor!==null&&!bt(t.constructor)&&se(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Kn=ue("ArrayBuffer");function tl(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Kn(t.buffer),e}const sl=ms("string"),se=ms("function"),Jn=ms("number"),ps=t=>t!==null&&typeof t=="object",rl=t=>t===!0||t===!1,Ht=t=>{if(fs(t)!=="object")return!1;const e=dr(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Gn in t)&&!(hs in t)},nl=ue("Date"),il=ue("File"),al=ue("Blob"),ol=ue("FileList"),ll=t=>ps(t)&&se(t.pipe),cl=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||se(t.append)&&((e=fs(t))==="formdata"||e==="object"&&se(t.toString)&&t.toString()==="[object FormData]"))},dl=ue("URLSearchParams"),[ul,hl,fl,ml]=["ReadableStream","Request","Response","Headers"].map(ue),pl=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function It(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ot(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=s?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,t[l],l,t)}}function Yn(t,e){e=e.toLowerCase();const s=Object.keys(t);let n=s.length,i;for(;n-- >0;)if(i=s[n],e===i.toLowerCase())return i;return null}const Ve=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xn=t=>!bt(t)&&t!==Ve;function Gs(){const{caseless:t}=Xn(this)&&this||{},e={},s=(n,i)=>{const a=t&&Yn(e,i)||i;Ht(e[a])&&Ht(n)?e[a]=Gs(e[a],n):Ht(n)?e[a]=Gs({},n):ot(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&It(arguments[n],s);return e}const gl=(t,e,s,{allOwnKeys:n}={})=>(It(e,(i,a)=>{s&&se(i)?t[a]=Wn(i,s):t[a]=i},{allOwnKeys:n}),t),xl=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yl=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},bl=(t,e,s,n)=>{let i,a,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=s!==!1&&dr(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},vl=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},wl=t=>{if(!t)return null;if(ot(t))return t;let e=t.length;if(!Jn(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Nl=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dr(Uint8Array)),jl=(t,e)=>{const n=(t&&t[hs]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},_l=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},El=ue("HTMLFormElement"),Tl=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),Or=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Il=ue("RegExp"),Qn=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};It(s,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},Cl=t=>{Qn(t,(e,s)=>{if(se(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(se(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Sl=(t,e)=>{const s={},n=i=>{i.forEach(a=>{s[a]=!0})};return ot(t)?n(t):n(String(t).split(e)),s},kl=()=>{},Pl=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Al(t){return!!(t&&se(t.append)&&t[Gn]==="FormData"&&t[hs])}const Rl=t=>{const e=new Array(10),s=(n,i)=>{if(ps(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=ot(n)?[]:{};return It(n,(o,l)=>{const c=s(o,i+1);!bt(c)&&(a[l]=c)}),e[i]=void 0,a}}return n};return s(t,0)},Ol=ue("AsyncFunction"),Dl=t=>t&&(ps(t)||se(t))&&se(t.then)&&se(t.catch),Zn=((t,e)=>t?setImmediate:e?((s,n)=>(Ve.addEventListener("message",({source:i,data:a})=>{i===Ve&&a===s&&n.length&&n.shift()()},!1),i=>{n.push(i),Ve.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",se(Ve.postMessage)),Ll=typeof queueMicrotask<"u"?queueMicrotask.bind(Ve):typeof process<"u"&&process.nextTick||Zn,Ml=t=>t!=null&&se(t[hs]),g={isArray:ot,isArrayBuffer:Kn,isBuffer:el,isFormData:cl,isArrayBufferView:tl,isString:sl,isNumber:Jn,isBoolean:rl,isObject:ps,isPlainObject:Ht,isReadableStream:ul,isRequest:hl,isResponse:fl,isHeaders:ml,isUndefined:bt,isDate:nl,isFile:il,isBlob:al,isRegExp:Il,isFunction:se,isStream:ll,isURLSearchParams:dl,isTypedArray:Nl,isFileList:ol,forEach:It,merge:Gs,extend:gl,trim:pl,stripBOM:xl,inherits:yl,toFlatObject:bl,kindOf:fs,kindOfTest:ue,endsWith:vl,toArray:wl,forEachEntry:jl,matchAll:_l,isHTMLForm:El,hasOwnProperty:Or,hasOwnProp:Or,reduceDescriptors:Qn,freezeMethods:Cl,toObjectSet:Sl,toCamelCase:Tl,noop:kl,toFiniteNumber:Pl,findKey:Yn,global:Ve,isContextDefined:Xn,isSpecCompliantForm:Al,toJSONObject:Rl,isAsyncFn:Ol,isThenable:Dl,setImmediate:Zn,asap:Ll,isIterable:Ml};function D(t,e,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}g.inherits(D,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.status}}});const ei=D.prototype,ti={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ti[t]={value:t}});Object.defineProperties(D,ti);Object.defineProperty(ei,"isAxiosError",{value:!0});D.from=(t,e,s,n,i,a)=>{const o=Object.create(ei);return g.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),D.call(o,t.message,e,s,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const Ul=null;function Ks(t){return g.isPlainObject(t)||g.isArray(t)}function si(t){return g.endsWith(t,"[]")?t.slice(0,-2):t}function Dr(t,e,s){return t?t.concat(e).map(function(i,a){return i=si(i),!s&&a?"["+i+"]":i}).join(s?".":""):e}function Fl(t){return g.isArray(t)&&!t.some(Ks)}const $l=g.toFlatObject(g,{},null,function(e){return/^is[A-Z]/.test(e)});function gs(t,e,s){if(!g.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=g.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!g.isUndefined(v[w])});const n=s.metaTokens,i=s.visitor||u,a=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&g.isSpecCompliantForm(e);if(!g.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(g.isDate(b))return b.toISOString();if(!c&&g.isBlob(b))throw new D("Blob is not supported. Use a Buffer instead.");return g.isArrayBuffer(b)||g.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,w,v){let j=b;if(b&&!v&&typeof b=="object"){if(g.endsWith(w,"{}"))w=n?w:w.slice(0,-2),b=JSON.stringify(b);else if(g.isArray(b)&&Fl(b)||(g.isFileList(b)||g.endsWith(w,"[]"))&&(j=g.toArray(b)))return w=si(w),j.forEach(function(N,E){!(g.isUndefined(N)||N===null)&&e.append(o===!0?Dr([w],E,a):o===null?w:w+"[]",d(N))}),!1}return Ks(b)?!0:(e.append(Dr(v,w,a),d(b)),!1)}const h=[],x=Object.assign($l,{defaultVisitor:u,convertValue:d,isVisitable:Ks});function p(b,w){if(!g.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(b),g.forEach(b,function(j,y){(!(g.isUndefined(j)||j===null)&&i.call(e,j,g.isString(y)?y.trim():y,w,x))===!0&&p(j,w?w.concat(y):[y])}),h.pop()}}if(!g.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Lr(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ur(t,e){this._pairs=[],t&&gs(t,this,e)}const ri=ur.prototype;ri.append=function(e,s){this._pairs.push([e,s])};ri.toString=function(e){const s=e?function(n){return e.call(this,n,Lr)}:Lr;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function Bl(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ni(t,e,s){if(!e)return t;const n=s&&s.encode||Bl;g.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(e,s):a=g.isURLSearchParams(e)?e.toString():new ur(e,s).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Mr{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){g.forEach(this.handlers,function(n){n!==null&&e(n)})}}const ii={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hl=typeof URLSearchParams<"u"?URLSearchParams:ur,zl=typeof FormData<"u"?FormData:null,Vl=typeof Blob<"u"?Blob:null,ql={isBrowser:!0,classes:{URLSearchParams:Hl,FormData:zl,Blob:Vl},protocols:["http","https","file","blob","url","data"]},hr=typeof window<"u"&&typeof document<"u",Js=typeof navigator=="object"&&navigator||void 0,Wl=hr&&(!Js||["ReactNative","NativeScript","NS"].indexOf(Js.product)<0),Gl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kl=hr&&window.location.href||"http://localhost",Jl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hr,hasStandardBrowserEnv:Wl,hasStandardBrowserWebWorkerEnv:Gl,navigator:Js,origin:Kl},Symbol.toStringTag,{value:"Module"})),Q={...Jl,...ql};function Yl(t,e){return gs(t,new Q.classes.URLSearchParams,Object.assign({visitor:function(s,n,i,a){return Q.isNode&&g.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Xl(t){return g.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ql(t){const e={},s=Object.keys(t);let n;const i=s.length;let a;for(n=0;n<i;n++)a=s[n],e[a]=t[a];return e}function ai(t){function e(s,n,i,a){let o=s[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=s.length;return o=!o&&g.isArray(i)?i.length:o,c?(g.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!g.isObject(i[o]))&&(i[o]=[]),e(s,n,i[o],a)&&g.isArray(i[o])&&(i[o]=Ql(i[o])),!l)}if(g.isFormData(t)&&g.isFunction(t.entries)){const s={};return g.forEachEntry(t,(n,i)=>{e(Xl(n),i,s,0)}),s}return null}function Zl(t,e,s){if(g.isString(t))try{return(e||JSON.parse)(t),g.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const Ct={transitional:ii,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,a=g.isObject(e);if(a&&g.isHTMLForm(e)&&(e=new FormData(e)),g.isFormData(e))return i?JSON.stringify(ai(e)):e;if(g.isArrayBuffer(e)||g.isBuffer(e)||g.isStream(e)||g.isFile(e)||g.isBlob(e)||g.isReadableStream(e))return e;if(g.isArrayBufferView(e))return e.buffer;if(g.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yl(e,this.formSerializer).toString();if((l=g.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return gs(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),Zl(e)):e}],transformResponse:[function(e){const s=this.transitional||Ct.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(g.isResponse(e)||g.isReadableStream(e))return e;if(e&&g.isString(e)&&(n&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?D.from(l,D.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Q.classes.FormData,Blob:Q.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};g.forEach(["delete","get","head","post","put","patch"],t=>{Ct.headers[t]={}});const ec=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tc=t=>{const e={};let s,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!s||e[s]&&ec[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},Ur=Symbol("internals");function ft(t){return t&&String(t).trim().toLowerCase()}function zt(t){return t===!1||t==null?t:g.isArray(t)?t.map(zt):String(t)}function sc(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const rc=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ss(t,e,s,n,i){if(g.isFunction(n))return n.call(this,e,s);if(i&&(e=s),!!g.isString(e)){if(g.isString(n))return e.indexOf(n)!==-1;if(g.isRegExp(n))return n.test(e)}}function nc(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function ic(t,e){const s=g.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}let re=class{constructor(e){e&&this.set(e)}set(e,s,n){const i=this;function a(l,c,d){const u=ft(c);if(!u)throw new Error("header name must be a non-empty string");const h=g.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=zt(l))}const o=(l,c)=>g.forEach(l,(d,u)=>a(d,u,c));if(g.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(g.isString(e)&&(e=e.trim())&&!rc(e))o(tc(e),s);else if(g.isObject(e)&&g.isIterable(e)){let l={},c,d;for(const u of e){if(!g.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?g.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,s)}else e!=null&&a(s,e,n);return this}get(e,s){if(e=ft(e),e){const n=g.findKey(this,e);if(n){const i=this[n];if(!s)return i;if(s===!0)return sc(i);if(g.isFunction(s))return s.call(this,i,n);if(g.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=ft(e),e){const n=g.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||Ss(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let i=!1;function a(o){if(o=ft(o),o){const l=g.findKey(n,o);l&&(!s||Ss(n,n[l],l,s))&&(delete n[l],i=!0)}}return g.isArray(e)?e.forEach(a):a(e),i}clear(e){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const a=s[n];(!e||Ss(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const s=this,n={};return g.forEach(this,(i,a)=>{const o=g.findKey(n,a);if(o){s[o]=zt(i),delete s[a];return}const l=e?nc(a):String(a).trim();l!==a&&delete s[a],s[l]=zt(i),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return g.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=e&&g.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Ur]=this[Ur]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=ft(o);n[l]||(ic(i,o),n[l]=!0)}return g.isArray(e)?e.forEach(a):a(e),this}};re.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.reduceDescriptors(re.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}});g.freezeMethods(re);function ks(t,e){const s=this||Ct,n=e||s,i=re.from(n.headers);let a=n.data;return g.forEach(t,function(l){a=l.call(s,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function oi(t){return!!(t&&t.__CANCEL__)}function lt(t,e,s){D.call(this,t??"canceled",D.ERR_CANCELED,e,s),this.name="CanceledError"}g.inherits(lt,D,{__CANCEL__:!0});function li(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new D("Request failed with status code "+s.status,[D.ERR_BAD_REQUEST,D.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function ac(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function oc(t,e){t=t||10;const s=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=n[a];o||(o=d),s[i]=c,n[i]=d;let h=a,x=0;for(;h!==i;)x+=s[h++],h=h%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),d-o<e)return;const p=u&&d-u;return p?Math.round(x*1e3/p):void 0}}function lc(t,e){let s=0,n=1e3/e,i,a;const o=(d,u=Date.now())=>{s=u,i=null,a&&(clearTimeout(a),a=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=n?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},n-h)))},()=>i&&o(i)]}const Yt=(t,e,s=3)=>{let n=0;const i=oc(50,250);return lc(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,d=i(c),u=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},s)},Fr=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},$r=t=>(...e)=>g.asap(()=>t(...e)),cc=Q.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Q.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Q.origin),Q.navigator&&/(msie|trident)/i.test(Q.navigator.userAgent)):()=>!0,dc=Q.hasStandardBrowserEnv?{write(t,e,s,n,i,a){const o=[t+"="+encodeURIComponent(e)];g.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),g.isString(n)&&o.push("path="+n),g.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hc(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ci(t,e,s){let n=!uc(e);return t&&(n||s==!1)?hc(t,e):e}const Br=t=>t instanceof re?{...t}:t;function Ye(t,e){e=e||{};const s={};function n(d,u,h,x){return g.isPlainObject(d)&&g.isPlainObject(u)?g.merge.call({caseless:x},d,u):g.isPlainObject(u)?g.merge({},u):g.isArray(u)?u.slice():u}function i(d,u,h,x){if(g.isUndefined(u)){if(!g.isUndefined(d))return n(void 0,d,h,x)}else return n(d,u,h,x)}function a(d,u){if(!g.isUndefined(u))return n(void 0,u)}function o(d,u){if(g.isUndefined(u)){if(!g.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,h){if(h in e)return n(d,u);if(h in t)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>i(Br(d),Br(u),h,!0)};return g.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||i,x=h(t[u],e[u],u);g.isUndefined(x)&&h!==l||(s[u]=x)}),s}const di=t=>{const e=Ye({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=re.from(o),e.url=ni(ci(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(g.isFormData(s)){if(Q.hasStandardBrowserEnv||Q.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Q.hasStandardBrowserEnv&&(n&&g.isFunction(n)&&(n=n(e)),n||n!==!1&&cc(e.url))){const d=i&&a&&dc.read(a);d&&o.set(i,d)}return e},fc=typeof XMLHttpRequest<"u",mc=fc&&function(t){return new Promise(function(s,n){const i=di(t);let a=i.data;const o=re.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,h,x,p,b;function w(){p&&p(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function j(){if(!v)return;const N=re.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:N,config:t,request:v};li(function(_){s(_),w()},function(_){n(_),w()},k),v=null}"onloadend"in v?v.onloadend=j:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(j)},v.onabort=function(){v&&(n(new D("Request aborted",D.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new D("Network Error",D.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||ii;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),n(new D(E,k.clarifyTimeoutError?D.ETIMEDOUT:D.ECONNABORTED,t,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&g.forEach(o.toJSON(),function(E,k){v.setRequestHeader(k,E)}),g.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),d&&([x,b]=Yt(d,!0),v.addEventListener("progress",x)),c&&v.upload&&([h,p]=Yt(c),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=N=>{v&&(n(!N||N.type?new lt(null,t,v):N),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=ac(i.url);if(y&&Q.protocols.indexOf(y)===-1){n(new D("Unsupported protocol "+y+":",D.ERR_BAD_REQUEST,t));return}v.send(a||null)})},pc=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof D?u:new lt(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,a(new D(`timeout ${e} of ms exceeded`,D.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>g.asap(l),c}},gc=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,i;for(;n<s;)i=n+e,yield t.slice(n,i),n=i},xc=async function*(t,e){for await(const s of yc(t))yield*gc(s,e)},yc=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},Hr=(t,e,s,n)=>{const i=xc(t,e);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let h=u.byteLength;if(s){let x=a+=h;s(x)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},xs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ui=xs&&typeof ReadableStream=="function",bc=xs&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hi=(t,...e)=>{try{return!!t(...e)}catch{return!1}},vc=ui&&hi(()=>{let t=!1;const e=new Request(Q.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zr=64*1024,Ys=ui&&hi(()=>g.isReadableStream(new Response("").body)),Xt={stream:Ys&&(t=>t.body)};xs&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xt[e]&&(Xt[e]=g.isFunction(t[e])?s=>s[e]():(s,n)=>{throw new D(`Response type '${e}' is not supported`,D.ERR_NOT_SUPPORT,n)})})})(new Response);const wc=async t=>{if(t==null)return 0;if(g.isBlob(t))return t.size;if(g.isSpecCompliantForm(t))return(await new Request(Q.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(g.isArrayBufferView(t)||g.isArrayBuffer(t))return t.byteLength;if(g.isURLSearchParams(t)&&(t=t+""),g.isString(t))return(await bc(t)).byteLength},Nc=async(t,e)=>{const s=g.toFiniteNumber(t.getContentLength());return s??wc(e)},jc=xs&&(async t=>{let{url:e,method:s,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:x}=di(t);d=d?(d+"").toLowerCase():"text";let p=pc([i,a&&a.toAbortSignal()],o),b;const w=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(c&&vc&&s!=="get"&&s!=="head"&&(v=await Nc(u,n))!==0){let k=new Request(e,{method:"POST",body:n,duplex:"half"}),R;if(g.isFormData(n)&&(R=k.headers.get("content-type"))&&u.setContentType(R),k.body){const[_,S]=Fr(v,Yt($r(c)));n=Hr(k.body,zr,_,S)}}g.isString(h)||(h=h?"include":"omit");const j="credentials"in Request.prototype;b=new Request(e,{...x,signal:p,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:j?h:void 0});let y=await fetch(b);const N=Ys&&(d==="stream"||d==="response");if(Ys&&(l||N&&w)){const k={};["status","statusText","headers"].forEach(f=>{k[f]=y[f]});const R=g.toFiniteNumber(y.headers.get("content-length")),[_,S]=l&&Fr(R,Yt($r(l),!0))||[];y=new Response(Hr(y.body,zr,_,()=>{S&&S(),w&&w()}),k)}d=d||"text";let E=await Xt[g.findKey(Xt,d)||"text"](y,t);return!N&&w&&w(),await new Promise((k,R)=>{li(k,R,{data:E,headers:re.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:b})})}catch(j){throw w&&w(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new D("Network Error",D.ERR_NETWORK,t,b),{cause:j.cause||j}):D.from(j,j&&j.code,t,b)}}),Xs={http:Ul,xhr:mc,fetch:jc};g.forEach(Xs,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Vr=t=>`- ${t}`,_c=t=>g.isFunction(t)||t===null||t===!1,fi={getAdapter:t=>{t=g.isArray(t)?t:[t];const{length:e}=t;let s,n;const i={};for(let a=0;a<e;a++){s=t[a];let o;if(n=s,!_c(s)&&(n=Xs[(o=String(s)).toLowerCase()],n===void 0))throw new D(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(Vr).join(`
`):" "+Vr(a[0]):"as no adapter specified";throw new D("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Xs};function Ps(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lt(null,t)}function qr(t){return Ps(t),t.headers=re.from(t.headers),t.data=ks.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fi.getAdapter(t.adapter||Ct.adapter)(t).then(function(n){return Ps(t),n.data=ks.call(t,t.transformResponse,n),n.headers=re.from(n.headers),n},function(n){return oi(n)||(Ps(t),n&&n.response&&(n.response.data=ks.call(t,t.transformResponse,n.response),n.response.headers=re.from(n.response.headers))),Promise.reject(n)})}const mi="1.9.0",ys={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ys[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Wr={};ys.transitional=function(e,s,n){function i(a,o){return"[Axios v"+mi+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new D(i(o," has been removed"+(s?" in "+s:"")),D.ERR_DEPRECATED);return s&&!Wr[o]&&(Wr[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(a,o,l):!0}};ys.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Ec(t,e,s){if(typeof t!="object")throw new D("options must be an object",D.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new D("option "+a+" must be "+c,D.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new D("Unknown option "+a,D.ERR_BAD_OPTION)}}const Vt={assertOptions:Ec,validators:ys},pe=Vt.validators;let Ge=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Mr,response:new Mr}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Ye(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:a}=s;n!==void 0&&Vt.assertOptions(n,{silentJSONParsing:pe.transitional(pe.boolean),forcedJSONParsing:pe.transitional(pe.boolean),clarifyTimeoutError:pe.transitional(pe.boolean)},!1),i!=null&&(g.isFunction(i)?s.paramsSerializer={serialize:i}:Vt.assertOptions(i,{encode:pe.function,serialize:pe.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Vt.assertOptions(s,{baseUrl:pe.spelling("baseURL"),withXsrfToken:pe.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=a&&g.merge(a.common,a[s.method]);a&&g.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),s.headers=re.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let u,h=0,x;if(!c){const b=[qr.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,d),x=b.length,u=Promise.resolve(s);h<x;)u=u.then(b[h++],b[h++]);return u}x=l.length;let p=s;for(h=0;h<x;){const b=l[h++],w=l[h++];try{p=b(p)}catch(v){w.call(this,v);break}}try{u=qr.call(this,p)}catch(b){return Promise.reject(b)}for(h=0,x=d.length;h<x;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=Ye(this.defaults,e);const s=ci(e.baseURL,e.url,e.allowAbsoluteUrls);return ni(s,e.params,e.paramsSerializer)}};g.forEach(["delete","get","head","options"],function(e){Ge.prototype[e]=function(s,n){return this.request(Ye(n||{},{method:e,url:s,data:(n||{}).data}))}});g.forEach(["post","put","patch"],function(e){function s(n){return function(a,o,l){return this.request(Ye(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ge.prototype[e]=s(),Ge.prototype[e+"Form"]=s(!0)});let Tc=class pi{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new lt(a,o,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new pi(function(i){e=i}),cancel:e}}};function Ic(t){return function(s){return t.apply(null,s)}}function Cc(t){return g.isObject(t)&&t.isAxiosError===!0}const Qs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qs).forEach(([t,e])=>{Qs[e]=t});function gi(t){const e=new Ge(t),s=Wn(Ge.prototype.request,e);return g.extend(s,Ge.prototype,e,{allOwnKeys:!0}),g.extend(s,e,null,{allOwnKeys:!0}),s.create=function(i){return gi(Ye(t,i))},s}const B=gi(Ct);B.Axios=Ge;B.CanceledError=lt;B.CancelToken=Tc;B.isCancel=oi;B.VERSION=mi;B.toFormData=gs;B.AxiosError=D;B.Cancel=B.CanceledError;B.all=function(e){return Promise.all(e)};B.spread=Ic;B.isAxiosError=Cc;B.mergeConfig=Ye;B.AxiosHeaders=re;B.formToJSON=t=>ai(g.isHTMLForm(t)?new FormData(t):t);B.getAdapter=fi.getAdapter;B.HttpStatusCode=Qs;B.default=B;const{Axios:zm,AxiosError:Vm,CanceledError:qm,isCancel:Wm,CancelToken:Gm,VERSION:Km,all:Jm,Cancel:Ym,isAxiosError:Xm,spread:Qm,toFormData:Zm,AxiosHeaders:ep,HttpStatusCode:tp,formToJSON:sp,getAdapter:rp,mergeConfig:np}=B,Sc="https://food-delivery-server-8aer.onrender.com",Ke=B.create({baseURL:Sc,headers:{"Content-Type":"application/json"}});Ke.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>(console.error("Request error:",t),Promise.reject(t)));Ke.interceptors.response.use(t=>t,t=>(t.code==="ERR_NETWORK"&&console.error("Network error - Please check if the backend server is running"),Promise.reject(t)));const fr={getAll:()=>Ke.get("/api/restaurants"),getById:t=>Ke.get(`/api/restaurants/${t}`)},mr={getAll:()=>Ke.get("/api/menu"),getByRestaurantId:t=>Ke.get(`/api/menu/restaurant/${t}`),getById:t=>Ke.get(`/api/menu/${t}`)},kc=()=>{};var Gr={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=function(t){const e=[];let s=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},Pc=function(t){const e=[];let s=0,n=0;for(;s<t.length;){const i=t[s++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[s++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[s++],o=t[s++],l=t[s++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[s++],o=t[s++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},yi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,u=a>>2,h=(a&3)<<4|l>>4;let x=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(x=64)),n.push(s[u],s[h],s[x],s[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xi(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pc(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=s[t.charAt(i++)],l=i<t.length?s[t.charAt(i)]:0;++i;const d=i<t.length?s[t.charAt(i)]:64;++i;const h=i<t.length?s[t.charAt(i)]:64;if(++i,a==null||l==null||d==null||h==null)throw new Ac;const x=a<<2|l>>4;if(n.push(x),d!==64){const p=l<<4&240|d>>2;if(n.push(p),h!==64){const b=d<<6&192|h;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ac extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rc=function(t){const e=xi(t);return yi.encodeByteArray(e,!0)},bi=function(t){return Rc(t).replace(/\./g,"")},vi=function(t){try{return yi.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=()=>Oc().__FIREBASE_DEFAULTS__,Lc=()=>{if(typeof process>"u"||typeof Gr>"u")return;const t=Gr.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mc=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vi(t[1]);return e&&JSON.parse(e)},pr=()=>{try{return kc()||Dc()||Lc()||Mc()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uc=t=>{var e,s;return(s=(e=pr())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},wi=()=>{var t;return(t=pr())===null||t===void 0?void 0:t.config},Ni=t=>{var e;return(e=pr())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $c(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ee())}function Bc(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hc(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vc(){const t=ee();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qc(){try{return typeof indexedDB=="object"}catch{return!1}}function Wc(){return new Promise((t,e)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="FirebaseError";class Fe extends Error{constructor(e,s,n){super(s),this.code=e,this.customData=n,this.name=Gc,Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(e,s,n){this.service=e,this.serviceName=s,this.errors=n}create(e,...s){const n=s[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Kc(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Fe(i,l,n)}}function Kc(t,e){return t.replace(Jc,(s,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Jc=/\{\$([^}]+)}/g;function Yc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nt(t,e){if(t===e)return!0;const s=Object.keys(t),n=Object.keys(e);for(const i of s){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(Kr(a)&&Kr(o)){if(!nt(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!s.includes(i))return!1;return!0}function Kr(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){const e=[];for(const[s,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function mt(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function pt(t){const e=t.indexOf("?");if(!e)return"";const s=t.indexOf("#",e);return t.substring(e,s>0?s:void 0)}function Xc(t,e){const s=new Qc(t,e);return s.subscribe.bind(s)}class Qc{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,n){let i;if(e===void 0&&s===void 0&&n===void 0)throw new Error("Missing Observer.");Zc(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:n},i.next===void 0&&(i.next=As),i.error===void 0&&(i.error=As),i.complete===void 0&&(i.complete=As);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zc(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function As(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){return t.endsWith(".cloudworkstations.dev")}async function ed(t){return(await fetch(t,{credentials:"include"})).ok}class it{constructor(e,s,n){this.name=e,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const n=new Fc;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rd(e))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=He){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=He){return this.instances.has(e)}getOptions(e=He){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,s){var n;const i=this.normalizeInstanceIdentifier(s),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,s){const n=this.onInitCallbacks.get(s);if(n)for(const i of n)try{i(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sd(e),options:s}),this.instances.set(e,n),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=He){return this.component?this.component.multipleInstances?e:He:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sd(t){return t===He?void 0:t}function rd(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new td(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($||($={}));const id={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ad=$.INFO,od={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ld=(t,e,...s)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=od[e];if(i)console[i](`[${n}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _i{constructor(e){this.name=e,this._logLevel=ad,this._logHandler=ld,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?id[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...e),this._logHandler(this,$.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...e),this._logHandler(this,$.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$.INFO,...e),this._logHandler(this,$.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$.WARN,...e),this._logHandler(this,$.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...e),this._logHandler(this,$.ERROR,...e)}}const cd=(t,e)=>e.some(s=>t instanceof s);let Jr,Yr;function dd(){return Jr||(Jr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ud(){return Yr||(Yr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ei=new WeakMap,Zs=new WeakMap,Ti=new WeakMap,Rs=new WeakMap,gr=new WeakMap;function hd(t){const e=new Promise((s,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{s(Le(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(s=>{s instanceof IDBCursor&&Ei.set(s,t)}).catch(()=>{}),gr.set(e,t),e}function fd(t){if(Zs.has(t))return;const e=new Promise((s,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{s(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Zs.set(t,e)}let er={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Zs.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ti.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Le(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function md(t){er=t(er)}function pd(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const n=t.call(Os(this),e,...s);return Ti.set(n,e.sort?e.sort():[e]),Le(n)}:ud().includes(t)?function(...e){return t.apply(Os(this),e),Le(Ei.get(this))}:function(...e){return Le(t.apply(Os(this),e))}}function gd(t){return typeof t=="function"?pd(t):(t instanceof IDBTransaction&&fd(t),cd(t,dd())?new Proxy(t,er):t)}function Le(t){if(t instanceof IDBRequest)return hd(t);if(Rs.has(t))return Rs.get(t);const e=gd(t);return e!==t&&(Rs.set(t,e),gr.set(e,t)),e}const Os=t=>gr.get(t);function xd(t,e,{blocked:s,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Le(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Le(o.result),c.oldVersion,c.newVersion,Le(o.transaction),c)}),s&&o.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const yd=["get","getKey","getAll","getAllKeys","count"],bd=["put","add","delete","clear"],Ds=new Map;function Xr(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ds.get(e))return Ds.get(e);const s=e.replace(/FromIndex$/,""),n=e!==s,i=bd.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(i||yd.includes(s)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[s](...l),i&&c.done]))[0]};return Ds.set(e,a),a}md(t=>({...t,get:(e,s,n)=>Xr(e,s)||t.get(e,s,n),has:(e,s)=>!!Xr(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(wd(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function wd(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tr="@firebase/app",Qr="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie=new _i("@firebase/app"),Nd="@firebase/app-compat",jd="@firebase/analytics-compat",_d="@firebase/analytics",Ed="@firebase/app-check-compat",Td="@firebase/app-check",Id="@firebase/auth",Cd="@firebase/auth-compat",Sd="@firebase/database",kd="@firebase/data-connect",Pd="@firebase/database-compat",Ad="@firebase/functions",Rd="@firebase/functions-compat",Od="@firebase/installations",Dd="@firebase/installations-compat",Ld="@firebase/messaging",Md="@firebase/messaging-compat",Ud="@firebase/performance",Fd="@firebase/performance-compat",$d="@firebase/remote-config",Bd="@firebase/remote-config-compat",Hd="@firebase/storage",zd="@firebase/storage-compat",Vd="@firebase/firestore",qd="@firebase/vertexai",Wd="@firebase/firestore-compat",Gd="firebase",Kd="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="[DEFAULT]",Jd={[tr]:"fire-core",[Nd]:"fire-core-compat",[_d]:"fire-analytics",[jd]:"fire-analytics-compat",[Td]:"fire-app-check",[Ed]:"fire-app-check-compat",[Id]:"fire-auth",[Cd]:"fire-auth-compat",[Sd]:"fire-rtdb",[kd]:"fire-data-connect",[Pd]:"fire-rtdb-compat",[Ad]:"fire-fn",[Rd]:"fire-fn-compat",[Od]:"fire-iid",[Dd]:"fire-iid-compat",[Ld]:"fire-fcm",[Md]:"fire-fcm-compat",[Ud]:"fire-perf",[Fd]:"fire-perf-compat",[$d]:"fire-rc",[Bd]:"fire-rc-compat",[Hd]:"fire-gcs",[zd]:"fire-gcs-compat",[Vd]:"fire-fst",[Wd]:"fire-fst-compat",[qd]:"fire-vertex","fire-js":"fire-js",[Gd]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=new Map,Yd=new Map,rr=new Map;function Zr(t,e){try{t.container.addComponent(e)}catch(s){Ie.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function vt(t){const e=t.name;if(rr.has(e))return Ie.debug(`There were multiple attempts to register component ${e}.`),!1;rr.set(e,t);for(const s of Qt.values())Zr(s,t);for(const s of Yd.values())Zr(s,t);return!0}function Ii(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function ie(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Me=new St("app","Firebase",Xd);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,s,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new it("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Me.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt=Kd;function Ci(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:sr,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Me.create("bad-app-name",{appName:String(i)});if(s||(s=wi()),!s)throw Me.create("no-options");const a=Qt.get(i);if(a){if(nt(s,a.options)&&nt(n,a.config))return a;throw Me.create("duplicate-app",{appName:i})}const o=new nd(i);for(const c of rr.values())o.addComponent(c);const l=new Qd(s,n,o);return Qt.set(i,l),l}function Zd(t=sr){const e=Qt.get(t);if(!e&&t===sr&&wi())return Ci();if(!e)throw Me.create("no-app",{appName:t});return e}function et(t,e,s){var n;let i=(n=Jd[t])!==null&&n!==void 0?n:t;s&&(i+=`-${s}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ie.warn(l.join(" "));return}vt(new it(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="firebase-heartbeat-database",tu=1,wt="firebase-heartbeat-store";let Ls=null;function Si(){return Ls||(Ls=xd(eu,tu,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wt)}catch(s){console.warn(s)}}}}).catch(t=>{throw Me.create("idb-open",{originalErrorMessage:t.message})})),Ls}async function su(t){try{const s=(await Si()).transaction(wt),n=await s.objectStore(wt).get(ki(t));return await s.done,n}catch(e){if(e instanceof Fe)Ie.warn(e.message);else{const s=Me.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ie.warn(s.message)}}}async function en(t,e){try{const n=(await Si()).transaction(wt,"readwrite");await n.objectStore(wt).put(e,ki(t)),await n.done}catch(s){if(s instanceof Fe)Ie.warn(s.message);else{const n=Me.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Ie.warn(n.message)}}}function ki(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=1024,nu=30;class iu{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new ou(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tn();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>nu){const o=lu(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ie.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=tn(),{heartbeatsToSend:n,unsentEntries:i}=au(this._heartbeatsCache.heartbeats),a=bi(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(s){return Ie.warn(s),""}}}function tn(){return new Date().toISOString().substring(0,10)}function au(t,e=ru){const s=[];let n=t.slice();for(const i of t){const a=s.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),sn(s)>e){a.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),sn(s)>e){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class ou{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qc()?Wc().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await su(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return en(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return en(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sn(t){return bi(JSON.stringify({version:2,heartbeats:t})).length}function lu(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let n=1;n<t.length;n++)t[n].date<s&&(s=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){vt(new it("platform-logger",e=>new vd(e),"PRIVATE")),vt(new it("heartbeat",e=>new iu(e),"PRIVATE")),et(tr,Qr,t),et(tr,Qr,"esm2017"),et("fire-js","")}cu("");function xr(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s}function Pi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const du=Pi,Ai=new St("auth","Firebase",Pi());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new _i("@firebase/auth");function uu(t,...e){Zt.logLevel<=$.WARN&&Zt.warn(`Auth (${Pt}): ${t}`,...e)}function qt(t,...e){Zt.logLevel<=$.ERROR&&Zt.error(`Auth (${Pt}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,...e){throw br(t,...e)}function de(t,...e){return br(t,...e)}function yr(t,e,s){const n=Object.assign(Object.assign({},du()),{[e]:s});return new St("auth","Firebase",n).create(e,{appName:t.name})}function _e(t){return yr(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hu(t,e,s){const n=s;if(!(e instanceof n))throw n.name!==e.constructor.name&&ae(t,"argument-error"),yr(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function br(t,...e){if(typeof t!="string"){const s=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(s,...n)}return Ai.create(t,...e)}function P(t,e,...s){if(!t)throw br(e,...s)}function Ne(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qt(e),new Error(e)}function Ce(t,e){t||Ne(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fu(){return rn()==="http:"||rn()==="https:"}function rn(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fu()||Hc()||"connection"in navigator)?navigator.onLine:!0}function pu(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,s){this.shortDelay=e,this.longDelay=s,Ce(s>e,"Short delay should be less than long delay!"),this.isMobile=$c()||zc()}get(){return mu()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){Ce(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{static initialize(e,s,n){this.fetchImpl=e,s&&(this.headersImpl=s),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yu=new At(3e4,6e4);function Se(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ye(t,e,s,n,i={}){return Oi(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=kt(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return Bc()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ji(t.emulatorConfig.host)&&(d.credentials="include"),Ri.fetch()(await Di(t,t.config.apiHost,s,l),d)})}async function Oi(t,e,s){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},gu),e);try{const i=new vu(t),a=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw $t(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $t(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw $t(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw $t(t,"user-disabled",o);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yr(t,u,d);ae(t,u)}}catch(i){if(i instanceof Fe)throw i;ae(t,"network-request-failed",{message:String(i)})}}async function Rt(t,e,s,n,i={}){const a=await ye(t,e,s,n,i);return"mfaPendingCredential"in a&&ae(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Di(t,e,s,n){const i=`${e}${s}?${n}`,a=t,o=a.config.emulator?vr(t.config,i):`${t.config.apiScheme}://${i}`;return xu.includes(s)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function bu(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vu{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,n)=>{this.timer=setTimeout(()=>n(de(this.auth,"network-request-failed")),yu.get())})}}function $t(t,e,s){const n={appName:t.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const i=de(t,e,n);return i.customData._tokenResponse=s,i}function nn(t){return t!==void 0&&t.enterprise!==void 0}class wu{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return bu(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nu(t,e){return ye(t,"GET","/v2/recaptchaConfig",Se(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e){return ye(t,"POST","/v1/accounts:delete",e)}async function es(t,e){return ye(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _u(t,e=!1){const s=he(t),n=await s.getIdToken(e),i=wr(n);P(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:xt(Ms(i.auth_time)),issuedAtTime:xt(Ms(i.iat)),expirationTime:xt(Ms(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ms(t){return Number(t)*1e3}function wr(t){const[e,s,n]=t.split(".");if(e===void 0||s===void 0||n===void 0)return qt("JWT malformed, contained fewer than 3 sections"),null;try{const i=vi(s);return i?JSON.parse(i):(qt("Failed to decode base64 JWT payload"),null)}catch(i){return qt("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function an(t){const e=wr(t);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function at(t,e,s=!1){if(s)return e;try{return await e}catch(n){throw n instanceof Fe&&Eu(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Eu({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=xt(this.lastLoginAt),this.creationTime=xt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(t){var e;const s=t.auth,n=await t.getIdToken(),i=await at(t,es(s,{idToken:n}));P(i==null?void 0:i.users.length,s,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Li(a.providerUserInfo):[],l=Cu(t.providerData,o),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ir(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Iu(t){const e=he(t);await ts(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cu(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Li(t){return t.map(e=>{var{providerId:s}=e,n=xr(e,["providerId"]);return{providerId:s,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t,e){const s=await Oi(t,{},async()=>{const n=kt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await Di(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Ri.fetch()(o,{method:"POST",headers:l,body:n})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function ku(t,e){return ye(t,"POST","/v2/accounts:revokeToken",Se(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):an(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){P(e.length!==0,"internal-error");const s=an(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(P(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:n,refreshToken:i,expiresIn:a}=await Su(e,s);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,s,n){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,s){const{refreshToken:n,accessToken:i,expirationTime:a}=s,o=new tt;return n&&(P(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(P(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(P(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return Ne("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e){P(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ce{constructor(e){var{uid:s,auth:n,stsTokenManager:i}=e,a=xr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ir(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const s=await at(this,this.stsTokenManager.getToken(this.auth,e));return P(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return _u(this,e)}reload(){return Iu(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new ce(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),s&&await ts(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ie(this.auth.app))return Promise.reject(_e(this.auth));const e=await this.getIdToken();return await at(this,ju(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var n,i,a,o,l,c,d,u;const h=(n=s.displayName)!==null&&n!==void 0?n:void 0,x=(i=s.email)!==null&&i!==void 0?i:void 0,p=(a=s.phoneNumber)!==null&&a!==void 0?a:void 0,b=(o=s.photoURL)!==null&&o!==void 0?o:void 0,w=(l=s.tenantId)!==null&&l!==void 0?l:void 0,v=(c=s._redirectEventId)!==null&&c!==void 0?c:void 0,j=(d=s.createdAt)!==null&&d!==void 0?d:void 0,y=(u=s.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:N,emailVerified:E,isAnonymous:k,providerData:R,stsTokenManager:_}=s;P(N&&_,e,"internal-error");const S=tt.fromJSON(this.name,_);P(typeof N=="string",e,"internal-error"),Ae(h,e.name),Ae(x,e.name),P(typeof E=="boolean",e,"internal-error"),P(typeof k=="boolean",e,"internal-error"),Ae(p,e.name),Ae(b,e.name),Ae(w,e.name),Ae(v,e.name),Ae(j,e.name),Ae(y,e.name);const f=new ce({uid:N,auth:e,email:x,emailVerified:E,displayName:h,isAnonymous:k,photoURL:b,phoneNumber:p,tenantId:w,stsTokenManager:S,createdAt:j,lastLoginAt:y});return R&&Array.isArray(R)&&(f.providerData=R.map(I=>Object.assign({},I))),v&&(f._redirectEventId=v),f}static async _fromIdTokenResponse(e,s,n=!1){const i=new tt;i.updateFromServerResponse(s);const a=new ce({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ts(a),a}static async _fromGetAccountInfoResponse(e,s,n){const i=s.users[0];P(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Li(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new tt;l.updateFromIdToken(n);const c=new ce({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ir(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Map;function je(t){Ce(t instanceof Function,"Expected a class definition");let e=on.get(t);return e?(Ce(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,on.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Mi.type="NONE";const ln=Mi;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e,s){return`firebase:${t}:${e}:${s}`}class st{constructor(e,s,n){this.persistence=e,this.auth=s,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Wt(this.userKey,i.apiKey,a),this.fullPersistenceKey=Wt("persistence",i.apiKey,a),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await es(this.auth,{idToken:e}).catch(()=>{});return s?ce._fromGetAccountInfoResponse(this.auth,s,e):null}return ce._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,n="authUser"){if(!s.length)return new st(je(ln),e,n);const i=(await Promise.all(s.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||je(ln);const o=Wt(n,e.config.apiKey,e.name);let l=null;for(const d of s)try{const u=await d._get(o);if(u){let h;if(typeof u=="string"){const x=await es(e,{idToken:u}).catch(()=>{});if(!x)break;h=await ce._fromGetAccountInfoResponse(e,x,u)}else h=ce._fromJSON(e,u);d!==a&&(l=h),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new st(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(s.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new st(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bi(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ui(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zi(e))return"Blackberry";if(Vi(e))return"Webos";if(Fi(e))return"Safari";if((e.includes("chrome/")||$i(e))&&!e.includes("edge/"))return"Chrome";if(Hi(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(s);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Ui(t=ee()){return/firefox\//i.test(t)}function Fi(t=ee()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $i(t=ee()){return/crios\//i.test(t)}function Bi(t=ee()){return/iemobile/i.test(t)}function Hi(t=ee()){return/android/i.test(t)}function zi(t=ee()){return/blackberry/i.test(t)}function Vi(t=ee()){return/webos/i.test(t)}function Nr(t=ee()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pu(t=ee()){var e;return Nr(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Au(){return Vc()&&document.documentMode===10}function qi(t=ee()){return Nr(t)||Hi(t)||Vi(t)||zi(t)||/windows phone/i.test(t)||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e=[]){let s;switch(t){case"Browser":s=cn(ee());break;case"Worker":s=`${cn(ee())}-${t}`;break;default:s=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Pt}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=s,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const n of this.queue)await n(e),n.onAbort&&s.push(n.onAbort)}catch(n){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e={}){return ye(t,"GET","/v2/passwordPolicy",Se(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=6;class Lu{constructor(e){var s,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=o.minPasswordLength)!==null&&s!==void 0?s:Du,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,n,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(s=c.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,s){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(s.meetsMinPasswordLength=e.length>=n),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,s,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,s,n,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dn(this),this.idTokenSubscription=new dn(this),this.beforeStateQueue=new Ru(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ai,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=je(s)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await st.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await es(this,{idToken:e}),n=await ce._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(n)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ie(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return P(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await ts(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pu()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ie(this.app))return Promise.reject(_e(this));const s=e?he(e):null;return s&&P(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&P(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ie(this.app)?Promise.reject(_e(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ie(this.app)?Promise.reject(_e(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(je(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ou(this),s=new Lu(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new St("auth","Firebase",e())}onAuthStateChanged(e,s,n){return this.registerStateListener(this.authStateSubscription,e,s,n)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,n){return this.registerStateListener(this.idTokenSubscription,e,s,n)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(n.tenantId=this.tenantId),await ku(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const n=await this.getOrInitRedirectPersistenceManager(s);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&je(e)||this._popupRedirectResolver;P(s,this,"argument-error"),this.redirectPersistenceManager=await st.create(this,[je(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,n;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,n,i){if(this._deleted)return()=>{};const a=typeof s=="function"?s:s.next.bind(s);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof s=="function"){const c=e.addObserver(s,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(s);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(s["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(s["X-Firebase-AppCheck"]=i),s}async _getAppCheckToken(){var e;if(ie(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&uu(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function $e(t){return he(t)}class dn{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xc(s=>this.observer=s)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uu(t){bs=t}function Gi(t){return bs.loadJS(t)}function Fu(){return bs.recaptchaEnterpriseScript}function $u(){return bs.gapiScript}function Bu(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Hu{constructor(){this.enterprise=new zu}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class zu{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const Vu="recaptcha-enterprise",Ki="NO_RECAPTCHA";class qu{constructor(e){this.type=Vu,this.auth=$e(e)}async verify(e="verify",s=!1){async function n(a){if(!s){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{Nu(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new wu(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;nn(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(Ki)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Hu().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!s&&nn(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Fu();c.length!==0&&(c+=l),Gi(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function un(t,e,s,n=!1,i=!1){const a=new qu(t);let o;if(i)o=Ki;else try{o=await a.verify(s)}catch{o=await a.verify(s,!0)}const l=Object.assign({},e);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ar(t,e,s,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await un(t,e,s,s==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await un(t,e,s,s==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e){const s=Ii(t,"auth");if(s.isInitialized()){const i=s.getImmediate(),a=s.getOptions();if(nt(a,e??{}))return i;ae(i,"already-initialized")}return s.initialize({options:e})}function Gu(t,e){const s=(e==null?void 0:e.persistence)||[],n=(Array.isArray(s)?s:[s]).map(je);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Ku(t,e,s){const n=$e(t);P(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=Ji(e),{host:o,port:l}=Ju(e),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){P(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),P(nt(d,n.config.emulator)&&nt(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Yu(),ji(o)&&ed(`${a}//${o}${c}`)}function Ji(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ju(t){const e=Ji(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:hn(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:hn(o)}}}function hn(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yu(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Ne("not implemented")}_getIdTokenResponse(e){return Ne("not implemented")}_linkToIdToken(e,s){return Ne("not implemented")}_getReauthenticationResolver(e){return Ne("not implemented")}}async function Xu(t,e){return ye(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e){return Rt(t,"POST","/v1/accounts:signInWithPassword",Se(t,e))}async function Zu(t,e){return ye(t,"POST","/v1/accounts:sendOobCode",Se(t,e))}async function eh(t,e){return Zu(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t,e){return Rt(t,"POST","/v1/accounts:signInWithEmailLink",Se(t,e))}async function sh(t,e){return Rt(t,"POST","/v1/accounts:signInWithEmailLink",Se(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt extends jr{constructor(e,s,n,i=null){super("password",n),this._email=e,this._password=s,this._tenantId=i}static _fromEmailAndPassword(e,s){return new Nt(e,s,"password")}static _fromEmailAndCode(e,s,n=null){return new Nt(e,s,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ar(e,s,"signInWithPassword",Qu);case"emailLink":return th(e,{email:this._email,oobCode:this._password});default:ae(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const n={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ar(e,n,"signUpPassword",Xu);case"emailLink":return sh(e,{idToken:s,email:this._email,oobCode:this._password});default:ae(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rt(t,e){return Rt(t,"POST","/v1/accounts:signInWithIdp",Se(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="http://localhost";class Xe extends jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):ae("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=s,a=xr(s,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Xe(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const s=this.buildRequest();return rt(e,s)}_linkToIdToken(e,s){const n=this.buildRequest();return n.idToken=s,rt(e,n)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,rt(e,s)}buildRequest(){const e={requestUri:rh,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=kt(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ih(t){const e=mt(pt(t)).link,s=e?mt(pt(e)).deep_link_id:null,n=mt(pt(t)).deep_link_id;return(n?mt(pt(n)).link:null)||n||s||e||t}class _r{constructor(e){var s,n,i,a,o,l;const c=mt(pt(e)),d=(s=c.apiKey)!==null&&s!==void 0?s:null,u=(n=c.oobCode)!==null&&n!==void 0?n:null,h=nh((i=c.mode)!==null&&i!==void 0?i:null);P(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const s=ih(e);try{return new _r(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(){this.providerId=ct.PROVIDER_ID}static credential(e,s){return Nt._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const n=_r.parseLink(s);return P(n,"argument-error"),Nt._fromEmailAndCode(e,n.code,n.tenantId)}}ct.PROVIDER_ID="password";ct.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ct.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve extends Ot{constructor(){super("facebook.com")}static credential(e){return Xe._fromParams({providerId:ve.PROVIDER_ID,signInMethod:ve.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ve.credentialFromTaggedObject(e)}static credentialFromError(e){return ve.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ve.credential(e.oauthAccessToken)}catch{return null}}}ve.FACEBOOK_SIGN_IN_METHOD="facebook.com";ve.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we extends Ot{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return Xe._fromParams({providerId:we.PROVIDER_ID,signInMethod:we.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return we.credentialFromTaggedObject(e)}static credentialFromError(e){return we.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:n}=e;if(!s&&!n)return null;try{return we.credential(s,n)}catch{return null}}}we.GOOGLE_SIGN_IN_METHOD="google.com";we.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe extends Ot{constructor(){super("github.com")}static credential(e){return Xe._fromParams({providerId:Oe.PROVIDER_ID,signInMethod:Oe.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oe.credentialFromTaggedObject(e)}static credentialFromError(e){return Oe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oe.credential(e.oauthAccessToken)}catch{return null}}}Oe.GITHUB_SIGN_IN_METHOD="github.com";Oe.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De extends Ot{constructor(){super("twitter.com")}static credential(e,s){return Xe._fromParams({providerId:De.PROVIDER_ID,signInMethod:De.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return De.credentialFromTaggedObject(e)}static credentialFromError(e){return De.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=e;if(!s||!n)return null;try{return De.credential(s,n)}catch{return null}}}De.TWITTER_SIGN_IN_METHOD="twitter.com";De.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t,e){return Rt(t,"POST","/v1/accounts:signUp",Se(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,n,i=!1){const a=await ce._fromIdTokenResponse(e,n,i),o=fn(n);return new Qe({user:a,providerId:o,_tokenResponse:n,operationType:s})}static async _forOperation(e,s,n){await e._updateTokensIfNecessary(n,!0);const i=fn(n);return new Qe({user:e,providerId:i,_tokenResponse:n,operationType:s})}}function fn(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Fe{constructor(e,s,n,i){var a;super(s.code,s.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ss.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:s.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,s,n,i){return new ss(e,s,n,i)}}function Yi(t,e,s,n){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ss._fromErrorAndOperation(t,a,e,n):a})}async function oh(t,e,s=!1){const n=await at(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return Qe._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(t,e,s=!1){const{auth:n}=t;if(ie(n.app))return Promise.reject(_e(n));const i="reauthenticate";try{const a=await at(t,Yi(n,i,e,t),s);P(a.idToken,n,"internal-error");const o=wr(a.idToken);P(o,n,"internal-error");const{sub:l}=o;return P(t.uid===l,n,"user-mismatch"),Qe._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ae(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xi(t,e,s=!1){if(ie(t.app))return Promise.reject(_e(t));const n="signIn",i=await Yi(t,n,e),a=await Qe._fromIdTokenResponse(t,n,i);return s||await t._updateCurrentUser(a.user),a}async function ch(t,e){return Xi($e(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t){const e=$e(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dh(t,e,s){if(ie(t.app))return Promise.reject(_e(t));const n=$e(t),o=await ar(n,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ah).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Qi(t),c}),l=await Qe._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function uh(t,e,s){return ie(t.app)?Promise.reject(_e(t)):ch(he(t),ct.credential(e,s)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Qi(t),n})}async function hh(t,e){const s=he(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await eh(s.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t,e){return ye(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t,{displayName:e,photoURL:s}){if(e===void 0&&s===void 0)return;const n=he(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:s,returnSecureToken:!0},o=await at(n,fh(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function ph(t,e,s,n){return he(t).onIdTokenChanged(e,s,n)}function gh(t,e,s){return he(t).beforeAuthStateChanged(e,s)}function Tr(t,e,s,n){return he(t).onAuthStateChanged(e,s,n)}function mn(t){return he(t).signOut()}const rs="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=1e3,yh=10;class ea extends Zi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const n=this.storage.getItem(s),i=this.localCache[s];n!==i&&e(s,i,n)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!s&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);Au()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yh):i()}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:n}),!0)})},xh)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}ea.type="LOCAL";const bh=ea;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Zi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}ta.type="SESSION";const sa=ta;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const n=new vs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:n,eventType:i,data:a}=s.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;s.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(s.origin,a)),c=await vh(l);s.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vs.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t="",e=10){let s="";for(let n=0;n<e;n++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=Ir("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const x=h;if(x.data.eventId===d)switch(x.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(x.data.response);break;default:clearTimeout(u),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:s},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(){return window}function Nh(t){xe().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return typeof xe().WorkerGlobalScope<"u"&&typeof xe().importScripts=="function"}async function jh(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _h(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Eh(){return ra()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="firebaseLocalStorageDb",Th=1,ns="firebaseLocalStorage",ia="fbase_key";class Dt{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function ws(t,e){return t.transaction([ns],e?"readwrite":"readonly").objectStore(ns)}function Ih(){const t=indexedDB.deleteDatabase(na);return new Dt(t).toPromise()}function or(){const t=indexedDB.open(na,Th);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ns,{keyPath:ia})}catch(i){s(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ns)?e(n):(n.close(),await Ih(),e(await or()))})})}async function pn(t,e,s){const n=ws(t,!0).put({[ia]:e,value:s});return new Dt(n).toPromise()}async function Ch(t,e){const s=ws(t,!1).get(e),n=await new Dt(s).toPromise();return n===void 0?null:n.value}function gn(t,e){const s=ws(t,!0).delete(e);return new Dt(s).toPromise()}const Sh=800,kh=3;class aa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await or(),this.db)}async _withRetries(e){let s=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(s++>kh)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ra()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vs._getInstance(Eh()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await jh(),!this.activeServiceWorker)return;this.sender=new wh(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((s=n[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_h()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await or();return await pn(e,rs,"1"),await gn(e,rs),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(n=>pn(n,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(n=>Ch(n,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>gn(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ws(i,!1).getAll();return new Dt(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sh)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aa.type="LOCAL";const Ph=aa;new At(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){return e?je(e):(P(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends jr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rt(e,this._buildIdpRequest())}_linkToIdToken(e,s){return rt(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return rt(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function Ah(t){return Xi(t.auth,new Cr(t),t.bypassAuthState)}function Rh(t){const{auth:e,user:s}=t;return P(s,e,"internal-error"),lh(s,new Cr(t),t.bypassAuthState)}async function Oh(t){const{auth:e,user:s}=t;return P(s,e,"internal-error"),oh(s,new Cr(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,s,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:s,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ah;case"linkViaPopup":case"linkViaRedirect":return Oh;case"reauthViaPopup":case"reauthViaRedirect":return Rh;default:ae(this.auth,"internal-error")}}resolve(e){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new At(2e3,1e4);async function ca(t,e,s){if(ie(t.app))return Promise.reject(de(t,"operation-not-supported-in-this-environment"));const n=$e(t);hu(t,e,Er);const i=oa(n,s);return new qe(n,"signInViaPopup",e,i).executeNotNull()}class qe extends la{constructor(e,s,n,i,a){super(e,s,i,a),this.provider=n,this.authWindow=null,this.pollId=null,qe.currentPopupAction&&qe.currentPopupAction.cancel(),qe.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return P(e,this.auth,"internal-error"),e}async onExecution(){Ce(this.filter.length===1,"Popup operations only handle one event");const e=Ir();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(de(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qe.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,n;if(!((n=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Dh.get())};e()}}qe.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="pendingRedirect",Gt=new Map;class Mh extends la{constructor(e,s,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,n),this.eventId=null}async execute(){let e=Gt.get(this.auth._key());if(!e){try{const n=await Uh(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(s){e=()=>Promise.reject(s)}Gt.set(this.auth._key(),e)}return this.bypassAuthState||Gt.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uh(t,e){const s=Bh(e),n=$h(t);if(!await n._isAvailable())return!1;const i=await n._get(s)==="true";return await n._remove(s),i}function Fh(t,e){Gt.set(t._key(),e)}function $h(t){return je(t._redirectPersistence)}function Bh(t){return Wt(Lh,t.config.apiKey,t.name)}async function Hh(t,e,s=!1){if(ie(t.app))return Promise.reject(_e(t));const n=$e(t),i=oa(n,e),o=await new Mh(n,i,s).execute();return o&&!s&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=10*60*1e3;class Vh{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(s=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qh(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var n;if(e.error&&!da(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";s.onError(de(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const n=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zh&&this.cachedEventUids.clear(),this.cachedEventUids.has(xn(e))}saveEventToCache(e){this.cachedEventUids.add(xn(e)),this.lastProcessedEventTime=Date.now()}}function xn(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function da({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qh(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t,e={}){return ye(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kh=/^https?/;async function Jh(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Wh(t);for(const s of e)try{if(Yh(s))return}catch{}ae(t,"unauthorized-domain")}function Yh(t){const e=nr(),{protocol:s,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&o.hostname===n}if(!Kh.test(s))return!1;if(Gh.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new At(3e4,6e4);function yn(){const t=xe().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function Qh(t){return new Promise((e,s)=>{var n,i,a;function o(){yn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yn(),s(de(t,"network-request-failed"))},timeout:Xh.get()})}if(!((i=(n=xe().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=xe().gapi)===null||a===void 0)&&a.load)o();else{const l=Bu("iframefcb");return xe()[l]=()=>{gapi.load?o():s(de(t,"network-request-failed"))},Gi(`${$u()}?onload=${l}`).catch(c=>s(c))}}).catch(e=>{throw Kt=null,e})}let Kt=null;function Zh(t){return Kt=Kt||Qh(t),Kt}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new At(5e3,15e3),tf="__/auth/iframe",sf="emulator/auth/iframe",rf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function af(t){const e=t.config;P(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?vr(e,sf):`https://${t.config.authDomain}/${tf}`,n={apiKey:e.apiKey,appName:t.name,v:Pt},i=nf.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${s}?${kt(n).slice(1)}`}async function of(t){const e=await Zh(t),s=xe().gapi;return P(s,t,"internal-error"),e.open({where:document.body,url:af(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rf,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=de(t,"network-request-failed"),l=xe().setTimeout(()=>{a(o)},ef.get());function c(){xe().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cf=500,df=600,uf="_blank",hf="http://localhost";class bn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ff(t,e,s,n=cf,i=df){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},lf),{width:n.toString(),height:i.toString(),top:a,left:o}),d=ee().toLowerCase();s&&(l=$i(d)?uf:s),Ui(d)&&(e=e||hf,c.scrollbars="yes");const u=Object.entries(c).reduce((x,[p,b])=>`${x}${p}=${b},`,"");if(Pu(d)&&l!=="_self")return mf(e||"",l),new bn(null);const h=window.open(e||"",l,u);P(h,t,"popup-blocked");try{h.focus()}catch{}return new bn(h)}function mf(t,e){const s=document.createElement("a");s.href=t,s.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="__/auth/handler",gf="emulator/auth/handler",xf=encodeURIComponent("fac");async function vn(t,e,s,n,i,a){P(t.config.authDomain,t,"auth-domain-config-required"),P(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:n,v:Pt,eventId:i};if(e instanceof Er){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Yc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof Ot){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${xf}=${encodeURIComponent(c)}`:"";return`${yf(t)}?${kt(l).slice(1)}${d}`}function yf({config:t}){return t.emulator?vr(t,gf):`https://${t.authDomain}/${pf}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="webStorageSupport";class bf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sa,this._completeRedirectFn=Hh,this._overrideRedirectResult=Fh}async _openPopup(e,s,n,i){var a;Ce((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await vn(e,s,n,nr(),i);return ff(e,o,Ir())}async _openRedirect(e,s,n,i){await this._originValidation(e);const a=await vn(e,s,n,nr(),i);return Nh(a),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:a}=this.eventManagers[s];return i?Promise.resolve(i):(Ce(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[s]={promise:n},n.catch(()=>{delete this.eventManagers[s]}),n}async initAndGetManager(e){const s=await of(e),n=new Vh(e);return s.register("authEvent",i=>(P(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=s,n}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Us,{type:Us},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Us];o!==void 0&&s(!!o),ae(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=Jh(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return qi()||Fi()||Nr()}}const vf=bf;var wn="@firebase/auth",Nn="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jf(t){vt(new it("auth",(e,{options:s})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;P(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(t)},d=new Mu(n,i,a,c);return Gu(d,s),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,n)=>{e.getProvider("auth-internal").initialize()})),vt(new it("auth-internal",e=>{const s=$e(e.getProvider("auth").getImmediate());return(n=>new wf(n))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(wn,Nn,Nf(t)),et(wn,Nn,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=5*60,Ef=Ni("authIdTokenMaxAge")||_f;let jn=null;const Tf=t=>async e=>{const s=e&&await e.getIdTokenResult(),n=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(n&&n>Ef)return;const i=s==null?void 0:s.token;jn!==i&&(jn=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ne(t=Zd()){const e=Ii(t,"auth");if(e.isInitialized())return e.getImmediate();const s=Wu(t,{popupRedirectResolver:vf,persistence:[Ph,bh,sa]}),n=Ni("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=Tf(a.toString());gh(s,o,()=>o(s.currentUser)),ph(s,l=>o(l))}}const i=Uc("auth");return i&&Ku(s,`http://${i}`),s}function If(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Uu({loadJS(t){return new Promise((e,s)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=de("internal-error");a.customData=i,s(a)},n.type="text/javascript",n.charset="UTF-8",If().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jf("Browser");const Cf=()=>{const{id:t}=lr(),e=oe(),[s,n]=m.useState(null),[i,a]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(null),{addItem:u}=Tt();m.useEffect(()=>{(async()=>{try{l(!0),d(null);const b=await fr.getById(t??"");n(b.data);const w=await mr.getAll();a(w.data.filter(y=>y.restaurantId._id===t));const j=ne().currentUser;if(j&&!window.localStorage.getItem("userId")){const y=await fetch(`https://food-delivery-server-8aer.onrender.com/api/users/firebase/${j.uid}`);if(y.ok){const N=await y.json();N&&N._id&&window.localStorage.setItem("userId",N._id)}}}catch(b){d(b instanceof Error?b.message:"An unexpected error occurred")}finally{l(!1)}})()},[t]);const h=async p=>{try{u({id:p._id??p.id??"",name:p.name,price:p.price,quantity:1,image:p.image,restaurantId:p.restaurantId._id,restaurantName:p.restaurantId.name,deliveryTime:p.deliveryTime||""}),F.success(`${p.name} added to cart!`)}catch(b){console.error("Error adding to cart:",b),F.error("Failed to add item to cart")}},x=p=>p?typeof p=="string"?p:[p.street,p.city,p.state,p.zipCode].filter(Boolean).join(", "):"";return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading restaurant details..."})]})}):c?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("i",{className:"fas fa-exclamation-circle text-5xl text-red-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Data"}),r.jsx("p",{className:"text-gray-600 mb-4",children:c}),r.jsx("button",{onClick:()=>e("/"),className:"px-4 py-2 bg-orange-600 text-white rounded-button hover:bg-orange-700",children:"Back to Home"})]})}):s?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-md",children:r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsxs("button",{onClick:()=>e("/"),className:"text-orange-600 hover:text-orange-700 mb-4 flex items-center",children:[r.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Restaurants"]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsx("div",{className:"w-full md:w-1/3",children:r.jsx("img",{src:s.image,alt:s.name,className:"w-full h-64 object-cover rounded-lg"})}),r.jsxs("div",{className:"w-full md:w-2/3",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:s.name}),r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsxs("div",{className:"flex items-center bg-green-100 px-2 py-1 rounded mr-4",children:[r.jsx("span",{className:"text-sm font-medium text-green-800",children:s.rating}),r.jsx("i",{className:"fas fa-star text-yellow-500 ml-1 text-xs"})]}),r.jsxs("span",{className:"text-gray-600",children:[s.cuisine," Cuisine"]})]}),r.jsx("p",{className:"text-gray-600 mb-4",children:x(s.address)}),r.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[r.jsxs("div",{className:"flex items-center mr-4",children:[r.jsx("i",{className:"fas fa-clock mr-1"}),r.jsxs("span",{children:[s.deliveryTime," min delivery"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),r.jsxs("span",{children:[s.distance," mi away"]})]})]})]})]})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Menu"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(p=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[r.jsx("div",{className:"h-48 overflow-hidden",children:r.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-bold text-lg",children:p.name}),r.jsxs("span",{className:"text-orange-600 font-bold",children:["$",p.price.toFixed(2)]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:p.description}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[p.isVegetarian&&r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded mr-2",children:"Vegetarian"}),p.isSpicy&&r.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded",children:"Spicy"})]}),r.jsx("button",{onClick:()=>h(p),disabled:!p.isAvailable,className:`w-full py-2 px-4 rounded-lg ${p.isAvailable?"bg-orange-600 text-white hover:bg-orange-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:p.isAvailable?"Add to Cart":"Unavailable"})]})]},p._id))})]})]}):null};var ua={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_n=L.createContext&&L.createContext(ua),Sf=["attr","size","title"];function kf(t,e){if(t==null)return{};var s=Pf(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Pf(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function is(){return is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},is.apply(this,arguments)}function En(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),s.push.apply(s,n)}return s}function as(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?En(Object(s),!0).forEach(function(n){Af(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):En(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Af(t,e,s){return e=Rf(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Rf(t){var e=Of(t,"string");return typeof e=="symbol"?e:e+""}function Of(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ha(t){return t&&t.map((e,s)=>L.createElement(e.tag,as({key:s},e.attr),ha(e.child)))}function Lt(t){return e=>L.createElement(Df,is({attr:as({},t.attr)},e),ha(t.child))}function Df(t){var e=s=>{var{attr:n,size:i,title:a}=t,o=kf(t,Sf),l=i||s.size||"1em",c;return s.className&&(c=s.className),t.className&&(c=(c?c+" ":"")+t.className),L.createElement("svg",is({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,o,{className:c,style:as(as({color:t.color||s.color},s.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&L.createElement("title",null,a),t.children)};return _n!==void 0?L.createElement(_n.Consumer,null,s=>e(s)):e(ua)}function Lf(t){return Lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function Mf(t){return Lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M512.9 192c-14.9-.1-29.1 2.3-42.4 6.9L437.6 144H520c13.3 0 24-10.7 24-24V88c0-13.3-10.7-24-24-24h-45.3c-6.8 0-13.3 2.9-17.8 7.9l-37.5 41.7-22.8-38C392.2 68.4 384.4 64 376 64h-80c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h66.4l19.2 32H227.9c-17.7-23.1-44.9-40-99.9-40H72.5C59 104 47.7 115 48 128.5c.2 13 10.9 23.5 24 23.5h56c24.5 0 38.7 10.9 47.8 24.8l-11.3 20.5c-13-3.9-26.9-5.7-41.3-5.2C55.9 194.5 1.6 249.6 0 317c-1.6 72.1 56.3 131 128 131 59.6 0 109.7-40.8 124-96h84.2c13.7 0 24.6-11.4 24-25.1-2.1-47.1 17.5-93.7 56.2-125l12.5 20.8c-27.6 23.7-45.1 58.9-44.8 98.2.5 69.6 57.2 126.5 126.8 127.1 71.6.7 129.8-57.5 129.2-129.1-.7-69.6-57.6-126.4-127.2-126.9zM128 400c-44.1 0-80-35.9-80-80s35.9-80 80-80c4.2 0 8.4.3 12.5 1L99 316.4c-8.8 16 2.8 35.6 21 35.6h81.3c-12.4 28.2-40.6 48-73.3 48zm463.9-75.6c-2.2 40.6-35 73.4-75.5 75.5-46.1 2.5-84.4-34.3-84.4-79.9 0-21.4 8.4-40.8 22.1-55.1l49.4 82.4c4.5 7.6 14.4 10 22 5.5l13.7-8.2c7.6-4.5 10-14.4 5.5-22l-48.6-80.9c5.2-1.1 10.5-1.6 15.9-1.6 45.6-.1 82.3 38.2 79.9 84.3z"},child:[]}]})(t)}function Uf(t){return Lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Ff(t){return Lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function fa(t){return Lt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}const $f=()=>{const[t,e]=m.useState([]),[s,n]=m.useState(!0),[i,a]=m.useState(null),o=oe(),l="https://food-delivery-server-8aer.onrender.com";m.useEffect(()=>{(async()=>{try{n(!0);const u=await fetch(`${l}/api/restaurants`);if(!u.ok)throw new Error("Failed to fetch restaurants");const h=await u.json();e(h)}catch(u){a(u instanceof Error?u.message:"An error occurred"),console.error("Error fetching restaurants:",u)}finally{n(!1)}})()},[]);const c=d=>d?typeof d=="string"?d:[d.street,d.city,d.state,d.zipCode].filter(Boolean).join(", "):"";return s?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading restaurants..."})]})}):i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("i",{className:"fas fa-exclamation-circle text-5xl text-red-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Data"}),r.jsx("p",{className:"text-gray-600 mb-4",children:i}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-orange-600 text-white rounded-button hover:bg-orange-700",children:"Try Again"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("button",{onClick:()=>o(-1),className:"text-orange-600 hover:text-orange-700 mb-4 flex items-center",children:[r.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back"]}),r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"All Restaurants"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(d=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer",onClick:()=>o(`/restaurant/${d._id}`),children:[r.jsx("div",{className:"h-48 overflow-hidden",children:r.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-bold text-lg",children:d.name}),r.jsxs("div",{className:"flex items-center bg-green-100 px-2 py-1 rounded",children:[r.jsx("span",{className:"text-sm font-medium text-green-800",children:d.rating}),r.jsx(Ff,{className:"text-yellow-500 ml-1 text-xs"})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:d.cuisine}),r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:c(d.address)}),r.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[r.jsxs("div",{className:"flex items-center mr-3",children:[r.jsx(Mf,{className:"mr-1"}),r.jsxs("span",{children:[d.deliveryTime," min"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Lf,{className:"mr-1"}),r.jsxs("span",{children:[d.distance," mi"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Min. order: $",d.minOrder]}),r.jsxs("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium cursor-pointer",onClick:u=>{u.stopPropagation(),o(`/restaurant/${d._id}`)},children:["View Menu ",r.jsx("i",{className:"fas fa-chevron-right ml-1 text-xs"})]})]})]})]},d._id))})]})})},Bf="https://food-delivery-server-8aer.onrender.com",Tn=()=>{var k,R,_,S;const t=oe(),{orderId:e}=lr(),{items:s}=Tt(),[n,i]=m.useState(null),[a,o]=m.useState(!0),[l,c]=m.useState([]),[d,u]=m.useState(0),[h,x]=m.useState("processing"),[p,b]=m.useState(null),w=s.reduce((f,I)=>f+I.price*I.quantity,0),v=3.99,j=w*.08,y=w+v+j;if(m.useEffect(()=>{e&&fetch(`${Bf}/api/orders/${e}`).then(f=>f.json()).then(f=>{i(f),o(!1),console.log("Fetched order:",f)})},[e]),m.useEffect(()=>{if(n&&n.items){const f=n.items.map(()=>Math.floor(Math.random()*6)+25);c(f);const I=f.reduce((O,A)=>O+A,0)/f.length;u(I),b(n.createdAt?new Date(n.createdAt):new Date)}},[n]),m.useEffect(()=>{if(!p||!d)return;const f=new Date,I=new Date(p.getTime()+d*.4*6e4),O=new Date(p.getTime()+d*.8*6e4),A=new Date(p.getTime()+d*6e4);f<I?x("preparing"):f<O||f<A?x("outForDelivery"):x("delivered")},[p,d]),a)return r.jsx("div",{className:"text-center py-12",children:"Loading..."});if(!n)return r.jsx("div",{className:"text-center text-red-500 py-12",children:"Order not found."});let N=n.deliveryAddress;typeof N=="string"?N=r.jsx("p",{className:"text-gray-800",children:n.deliveryAddress}):typeof N=="object"&&(N=r.jsx(r.Fragment,{children:r.jsx("p",{className:"text-gray-800",children:[N.label,N.street,N.city,N.state,N.postalCode].filter(Boolean).join(", ")})}));let E="";return((k=n.paymentMethod)==null?void 0:k.type)==="credit"?E=`Card ending in ${(R=n.paymentMethod.details.cardNumber)==null?void 0:R.slice(-4)}`:((_=n.paymentMethod)==null?void 0:_.type)==="digital"?E="Digital Payment":((S=n.paymentMethod)==null?void 0:S.type)==="cash"&&(E="Cash on Delivery"),r.jsx("div",{className:"min-h-screen bg-gray-50 font-sans",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx("button",{onClick:()=>t(-1),className:"text-indigo-600 hover:text-indigo-800 mr-4 cursor-pointer",children:r.jsx("i",{className:"fas fa-arrow-left text-lg"})}),r.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Order Confirmed"})]}),r.jsx("div",{className:"mb-12",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white",children:r.jsx("i",{className:"fas fa-shopping-cart"})}),r.jsx("span",{className:"mt-2 text-sm text-gray-600",children:"Cart"})]}),r.jsx("div",{className:"flex-1 h-1 mx-2 bg-indigo-600"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white",children:r.jsx("i",{className:"fas fa-clipboard-list"})}),r.jsx("span",{className:"mt-2 text-sm text-gray-600",children:"Checkout"})]}),r.jsx("div",{className:"flex-1 h-1 mx-2 bg-indigo-600"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white",children:r.jsx("i",{className:"fas fa-check"})}),r.jsx("span",{className:"mt-2 text-sm font-medium text-gray-800",children:"Complete"})]})]})}),r.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[r.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:r.jsx("i",{className:"fas fa-check text-4xl text-green-500"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Order Successfully Placed!"}),r.jsx("p",{className:"text-gray-600 mb-4 text-center",children:"Thank you for your order. We've received your order and will begin processing it right away."}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 text-center",children:[r.jsxs("div",{className:"bg-gray-100 px-6 py-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Order Number"}),r.jsx("p",{className:"font-bold text-gray-800",children:n.orderNumber})]}),r.jsxs("div",{className:"bg-gray-100 px-6 py-3 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Delivery"}),r.jsx("p",{className:"font-medium text-gray-800",children:d?`${Math.round(d)} minutes`:"N/A"})]})]})]}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsxs("div",{className:"lg:w-2/3",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("i",{className:"fas fa-map-marker-alt text-indigo-600"})})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Delivery Address"}),r.jsx("div",{children:n.deliveryAddress?[n.deliveryAddress.label,n.deliveryAddress.street,n.deliveryAddress.city,n.deliveryAddress.state,n.deliveryAddress.postalCode].filter(Boolean).join(", "):"No address found"})]})]})})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx("i",{className:"fas fa-credit-card text-indigo-600"})})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Payment Method"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"fab fa-cc-visa text-blue-700 mr-2 text-2xl"}),r.jsx("p",{className:"text-gray-800",children:E})]})]})]})})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Items"}),r.jsx("div",{className:"space-y-6",children:n.items&&n.items.length>0?n.items.map((f,I)=>r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden mr-4",children:r.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover object-top"})}),r.jsxs("div",{className:"flex-grow",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("p",{className:"text-gray-800 font-medium",children:f.name}),r.jsxs("p",{className:"text-gray-800 font-medium",children:["$",(f.price*f.quantity).toFixed(2)]})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:f.restaurantName}),f.customization&&r.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[r.jsx("span",{className:"font-medium",children:"Customization:"})," ",f.customization]}),f.specialInstructions&&r.jsxs("p",{className:"text-gray-600 text-sm",children:[r.jsx("span",{className:"font-medium",children:"Instructions:"})," ",f.specialInstructions]}),r.jsxs("div",{className:"mt-2 inline-block bg-gray-100 px-2 py-1 rounded text-sm text-gray-700",children:["Qty: ",f.quantity]}),r.jsxs("div",{className:"mt-1 text-xs text-indigo-600",children:["Estimated: ",l[I]?`${l[I]} min`:"N/A"]})]})]},f.menuItemId||f._id)):r.jsx("div",{className:"text-gray-500",children:"No items found for this order."})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Delivery Status"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),r.jsxs("div",{className:"relative flex items-start mb-6",children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center z-10 relative",children:r.jsx("i",{className:"fas fa-check text-white text-sm"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:h}),r.jsx("p",{className:"text-sm text-gray-600",children:p?p.toLocaleString():"Loading..."})]})]}),r.jsxs("div",{className:"relative flex items-start mb-6",children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center z-10 relative",children:r.jsx("i",{className:"fas fa-utensils text-indigo-600 text-sm"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Preparing Your Order"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Estimated: 0–",d?Math.round(d*.4):"?"," min"]})]})]}),r.jsxs("div",{className:"relative flex items-start mb-6",children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center z-10 relative",children:r.jsx("i",{className:"fas fa-motorcycle text-gray-500 text-sm"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Out for Delivery"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Estimated: ",d?Math.round(d*.4):"?","–",d?Math.round(d*.8):"?"," min"]})]})]}),r.jsxs("div",{className:"relative flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center z-10 relative",children:r.jsx("i",{className:"fas fa-home text-gray-500 text-sm"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Delivered"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Estimated: ",d?Math.round(d*.8):"?","–",d?Math.round(d):"?"," min"]})]})]})]})]})})]}),r.jsx("div",{className:"lg:w-1/3",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsxs("span",{className:"text-gray-800",children:["$",w.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsxs("span",{className:"text-gray-800",children:["$",v.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsxs("span",{className:"text-gray-800",children:["$",j.toFixed(2)]})]}),r.jsx("div",{className:"border-t pt-3 mt-2",children:r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{className:"text-gray-800",children:"Total"}),r.jsxs("span",{className:"text-xl text-gray-900",children:["$",y.toFixed(2)]})]})})]}),r.jsx("div",{className:"mb-6 bg-indigo-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-clock text-indigo-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Delivery Time"}),r.jsx("p",{className:"font-medium text-gray-800",children:d?`${Math.round(d)} minutes`:"N/A"})]})]})}),r.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Need Help?"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"If you have any questions about your order, please contact our support team."}),r.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"fas fa-headset mr-2"})," Contact Support"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{className:"w-full py-3 px-4 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 !rounded-button cursor-pointer whitespace-nowrap",onClick:()=>t("/orders"),children:[r.jsx("i",{className:"fas fa-map-marker-alt mr-2"})," Track Order"]}),r.jsxs("button",{className:"block w-full py-3 px-4 bg-white border border-gray-300 text-indigo-600 font-medium rounded-lg hover:bg-gray-50 text-center !rounded-button cursor-pointer whitespace-nowrap",onClick:()=>t("/home"),children:[r.jsx("i",{className:"fas fa-home mr-2"})," Return to Home"]})]})]})})]}),r.jsx("div",{className:"mt-12 mb-8",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"What's Next?"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:r.jsx("i",{className:"fas fa-bell text-indigo-600 text-xl"})}),r.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"We'll send you real-time updates about your order status via email and app notifications."})]}),r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:r.jsx("i",{className:"fas fa-star text-indigo-600 text-xl"})}),r.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Rate Your Experience"}),r.jsx("p",{className:"text-sm text-gray-600",children:"After delivery, you'll be able to rate your food and delivery experience to help us improve."})]}),r.jsxs("div",{className:"flex flex-col items-center text-center p-4",children:[r.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mb-4",children:r.jsx("i",{className:"fas fa-utensils text-indigo-600 text-xl"})}),r.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Reorder Favorites"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loved your meal? You can easily reorder from your order history in just a few clicks."})]})]})]})}),r.jsxs("div",{className:"mt-12 text-center text-sm text-gray-500",children:[r.jsx("p",{children:"© 2025 Food Delivery App. All rights reserved."}),r.jsxs("div",{className:"flex justify-center mt-2 space-x-4",children:[r.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-700",children:"Terms of Service"}),r.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-700",children:"Privacy Policy"}),r.jsx("a",{href:"#",className:"text-gray-500 hover:text-gray-700",children:"Help Center"})]})]})]})})},Hf=()=>{const{items:t,updateQuantity:e,removeItem:s}=Tt(),[n,i]=L.useState(""),[a,o]=L.useState(0),[l,c]=L.useState(!1),d=oe();L.useEffect(()=>{c(t.length===0)},[t]);const u=(y,N)=>{const E=t.find(R=>R.id===y);if(!E)return;const k=Math.max(1,E.quantity+N);e(y,k)},h=y=>{s(y)},x=()=>{n.toLowerCase()==="discount20"?o(20):n.toLowerCase()==="save10"?o(10):(o(0),alert("Invalid coupon code"))},p=t.reduce((y,N)=>y+N.price*N.quantity,0),b=3.99,w=p*.08,v=p*a/100,j=p+b+w-v;return r.jsx("div",{className:"min-h-screen bg-gray-50 font-sans",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-shopping-cart text-2xl text-indigo-600 mr-3"}),r.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Your Cart"}),r.jsxs("span",{className:"ml-3 bg-indigo-100 text-indigo-800 py-1 px-3 rounded-full text-sm",children:[t.length," ",t.length===1?"item":"items"]})]}),r.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 font-medium flex items-center cursor-pointer whitespace-nowrap",onClick:()=>d("/"),children:[r.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Continue Shopping"]})]}),l?r.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-sm",children:[r.jsx("div",{className:"mb-6",children:r.jsx("i",{className:"fas fa-shopping-cart text-gray-300 text-6xl"})}),r.jsx("h2",{className:"text-2xl font-medium text-gray-700 mb-4",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-500 mb-8",children:"Start adding delicious meals to your cart!"}),r.jsx("button",{className:"bg-indigo-600 text-white py-3 px-6 rounded-lg hover:bg-indigo-700 transition duration-200 !rounded-button cursor-pointer whitespace-nowrap",onClick:()=>d("/"),children:"Browse Menu"})]}):r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsx("div",{className:"lg:w-2/3",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:t.map(y=>r.jsx("div",{className:"p-6 border-b border-gray-100 last:border-b-0",children:r.jsxs("div",{className:"flex flex-col sm:flex-row",children:[r.jsx("div",{className:"sm:w-24 h-24 flex-shrink-0 mb-4 sm:mb-0",children:r.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:r.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover object-top"})})}),r.jsx("div",{className:"sm:ml-6 flex-grow",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-lg text-gray-800",children:y.name}),y.restaurantName&&r.jsx("p",{className:"text-gray-500 text-sm",children:y.restaurantName}),y.customization&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[r.jsx("span",{className:"font-medium",children:"Customization:"})," ",y.customization]}),y.specialInstructions&&r.jsxs("p",{className:"text-sm text-gray-600 mt-1 italic",children:['"',y.specialInstructions,'"']})]}),r.jsxs("div",{className:"mt-4 sm:mt-0",children:[r.jsxs("div",{className:"flex items-center justify-end",children:[r.jsx("button",{onClick:()=>u(y.id,-1),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 !rounded-button cursor-pointer whitespace-nowrap",children:r.jsx("i",{className:"fas fa-minus text-gray-600 text-xs"})}),r.jsx("span",{className:"mx-3 w-8 text-center",children:y.quantity}),r.jsx("button",{onClick:()=>u(y.id,1),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 !rounded-button cursor-pointer whitespace-nowrap",children:r.jsx("i",{className:"fas fa-plus text-gray-600 text-xs"})})]}),r.jsxs("div",{className:"text-right mt-2",children:[r.jsxs("p",{className:"font-medium text-gray-800",children:["$",(y.price*y.quantity).toFixed(2)]}),r.jsx("button",{onClick:()=>h(y.id),className:"text-red-500 text-sm hover:text-red-700 mt-1 cursor-pointer whitespace-nowrap",children:"Remove"})]})]})]})})]})},y.id))})}),r.jsx("div",{className:"lg:w-1/3",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsxs("span",{className:"text-gray-800",children:["$",p.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsxs("span",{className:"text-gray-800",children:["$",b.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsxs("span",{className:"text-gray-800",children:["$",w.toFixed(2)]})]}),a>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsxs("span",{children:["Discount (",a,"%)"]}),r.jsxs("span",{children:["-$",v.toFixed(2)]})]}),r.jsx("div",{className:"border-t pt-4 mt-2",children:r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{className:"text-gray-800",children:"Total"}),r.jsxs("span",{className:"text-xl text-gray-900",children:["$",j.toFixed(2)]})]})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{htmlFor:"coupon",className:"block text-sm font-medium text-gray-700 mb-2",children:"Apply Coupon"}),r.jsxs("div",{className:"flex",children:[r.jsx("input",{type:"text",id:"coupon",className:"flex-grow px-4 py-2 border border-gray-300 rounded-l-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Enter coupon code",value:n,onChange:y=>i(y.target.value)}),r.jsx("button",{onClick:x,className:"bg-indigo-600 text-white px-4 py-2 rounded-r-lg hover:bg-indigo-700 transition duration-200 !rounded-button cursor-pointer whitespace-nowrap",children:"Apply"})]}),a>0&&r.jsxs("p",{className:"text-green-600 text-sm mt-2",children:[r.jsx("i",{className:"fas fa-check-circle mr-1"}),"Coupon applied successfully!"]})]}),r.jsx("div",{className:"mb-6 bg-indigo-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-clock text-indigo-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Delivery Time"}),r.jsx("p",{className:"font-medium text-gray-800",children:"30-45 minutes"})]})]})}),r.jsx("button",{className:"block w-full bg-indigo-600 text-white py-3 px-6 rounded-lg hover:bg-indigo-700 transition duration-200 !rounded-button cursor-pointer whitespace-nowrap",onClick:()=>d("/order-confirmation"),children:"Proceed to Checkout"})]})})]})]})})},Fs="https://food-delivery-server-8aer.onrender.com";function zf(){return`ORD-${Math.floor(1e4+Math.random()*9e4)}`}function In(t){if(!t||t.length===0)return"N/A";let e=0,s=0,n=0;if(t.forEach(o=>{if(o.deliveryTime){const[l,c]=o.deliveryTime.split("-").map(Number);!isNaN(l)&&!isNaN(c)&&(e+=l,s+=c,n++)}}),n===0)return"N/A";const i=Math.round(e/n),a=Math.round(s/n);return`${i}-${a} minutes`}const Vf=()=>{const{items:t,getTotalPrice:e,clearCart:s}=Tt(),[n,i]=m.useState("asap"),[a,o]=m.useState(""),[l,c]=m.useState("credit"),[d,u]=m.useState(""),[h,x]=m.useState(""),[p,b]=m.useState(""),[w,v]=m.useState(""),[j,y]=m.useState(""),[N,E]=m.useState(!1),[k,R]=m.useState(!1),[_,S]=m.useState(null),[f,I]=m.useState(!1),[O,A]=m.useState(null),[M,J]=m.useState([]),te=oe(),ke=t.reduce((C,H)=>C+H.price*H.quantity,0),fe=3.99,me=ke*.08,Ns=ke+fe+me,js=C=>{const z=C.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),le=z&&z[0]||"",W=[];for(let Pe=0,K=le.length;Pe<K;Pe+=4)W.push(le.substring(Pe,Pe+4));return W.length?W.join(" "):C},_s=C=>{const H=C.target.value;u(js(H))},Es=C=>{const H=C.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return H.length>2?`${H.substring(0,2)}/${H.substring(2,4)}`:H},Ts=C=>{const H=C.target.value;b(Es(H))},dt=()=>{const C="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let H="";for(let z=0;z<8;z++)H+=C.charAt(Math.floor(Math.random()*C.length));return H},T=()=>!(!d||!h||!p||!w||d.replace(/\s/g,"").length!==16||!/^(0[1-9]|1[0-2])\/([0-9]{2})$/.test(p)||!/^[0-9]{3,4}$/.test(w)),V=async C=>{C.preventDefault(),console.log("handlePlaceOrder called");const H=M.find(K=>K.isDefault);if(!H){F.error("Please set a default address in your profile.");return}if(!N){F.error("Please accept the terms and conditions");return}if(l==="credit"&&!T()){F.error("Please enter valid card details");return}const le=ne().currentUser;if(!le){F.error("You must be logged in to place an order");return}const W=window.localStorage.getItem("userId");if(!W){F.error("User not found. Please log in again.");return}const Pe={userId:W,items:t.map(K=>({menuItemId:K._id||K.id,name:K.name,price:K.price,quantity:K.quantity,restaurantName:K.restaurantName||"",image:K.image||""})),total:e()+fe+me,status:"processing",orderNumber:zf(),deliveryAddress:H||null,paymentMethod:{type:l,details:l==="credit"?{cardNumber:d,cardName:h,cardExpiry:p,cardCVV:w}:l==="digital"?{digitalPaymentCode:j}:{}},userFirebaseUid:le.uid};try{const K=await fetch(`${Fs}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pe)});if(!K.ok){const Mt=await K.json();if(console.error("Order creation error:",Mt),Mt.errors){const pa=Mt.errors.map(ut=>!ut.field||!ut.message?JSON.stringify(ut):`${ut.field}: ${ut.message}`).join(", ");F.error(`Validation Error: ${pa}`)}else F.error(Mt.message||"Failed to place order");return}const Is=await K.json();console.log("Order created successfully:",Is),S(Is.orderNumber),s(),I(!0),te(`/cart-details/${Is._id}`)}catch(K){console.error("Error placing order:",K),F.error("An error occurred while placing the order")}},q=C=>{c(C),C==="digital"&&y(dt())};return m.useEffect(()=>{(async()=>{const z=ne().currentUser;if(z)try{const le=await fetch(`${Fs}/api/users/${z.uid}`);if(!le.ok)throw new Error("Failed to fetch profile");const W=await le.json(),Pe=["Google Pay","Apple Pay","Cash on Delivery","Credit/Debit Card"];W.displayName&&W.displayName.trim()!==""&&W.email&&W.email.trim()!==""&&W.phone&&W.phone.trim()!==""&&W.address&&W.address.trim()!==""&&W.deliveryAddress&&W.deliveryAddress.trim()!==""&&W.preferredPaymentMethod&&Pe.includes(W.preferredPaymentMethod)||(F.error("Fill out profile page to continue."),te("/profile"))}catch{F.error("Could not verify profile completeness."),te("/profile")}})()},[te]),m.useEffect(()=>{const H=ne().currentUser;H&&fetch(`${Fs}/api/users/firebase/${H.uid}`).then(z=>z.ok?z.json():null).then(z=>{if(z&&z._id&&window.localStorage.setItem("userId",z._id),z&&z.addresses&&z.addresses.length>0){const le=z.addresses.find(W=>W.isDefault);J(z.addresses),A(le||z.addresses[0])}else J([]),A(null)})},[]),r.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6 relative",children:[r.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl",onClick:()=>R(!1),"aria-label":"Close",children:r.jsx("i",{className:"fas fa-times"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Order Items"}),r.jsx("div",{className:"space-y-4 max-h-96 overflow-auto pr-2",children:t.length===0?r.jsx("div",{className:"text-gray-500 text-center",children:"No items in this order."}):t.map(C=>r.jsxs("div",{className:"flex items-center border-b pb-3 last:border-b-0",children:[r.jsx("div",{className:"w-14 h-14 rounded-lg overflow-hidden mr-3",children:r.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover object-top"})}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("p",{className:"text-gray-800 text-sm font-medium",children:C.name}),r.jsxs("p",{className:"text-gray-500 text-xs",children:["Qty: ",C.quantity]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("p",{className:"text-gray-800 font-medium",children:["$",(C.price*C.quantity).toFixed(2)]})})]},C.id))})]})}),f&&_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full mx-4 text-center",children:[r.jsx("i",{className:"fas fa-check-circle text-green-500 text-5xl mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Order Placed!"}),r.jsx("p",{className:"text-gray-700 mb-4",children:"Your order number is:"}),r.jsx("div",{className:"text-2xl font-mono font-bold text-indigo-600 mb-4",children:_}),r.jsx("button",{className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-medium",onClick:()=>{I(!1),te("/orders")},children:"View Order History"})]})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx("a",{onClick:()=>te(-1),className:"text-indigo-600 hover:text-indigo-800 mr-4 cursor-pointer",children:r.jsx("i",{className:"fas fa-arrow-left text-lg"})}),r.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"Checkout"})]}),r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white",children:r.jsx("i",{className:"fas fa-shopping-cart"})}),r.jsx("span",{className:"mt-2 text-sm text-gray-600",children:"Cart"})]}),r.jsx("div",{className:"flex-1 h-1 mx-2 bg-indigo-600"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white",children:r.jsx("i",{className:"fas fa-clipboard-list"})}),r.jsx("span",{className:"mt-2 text-sm font-medium text-gray-800",children:"Checkout"})]}),r.jsx("div",{className:"flex-1 h-1 mx-2 bg-gray-300"}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center text-gray-500",children:r.jsx("i",{className:"fas fa-check"})}),r.jsx("span",{className:"mt-2 text-sm text-gray-500",children:"Complete"})]})]})}),r.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[r.jsxs("div",{className:"lg:w-2/3",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Delivery Address"})}),r.jsx("div",{className:"p-4 border rounded-lg mb-4 bg-gray-100",children:r.jsx("div",{className:"text-gray-800 font-medium",children:O?[O.label,O.street,O.city,O.state,O.postalCode].filter(Boolean).join(", "):"No address found"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Delivery Time"}),r.jsxs("div",{className:"flex space-x-4 mb-4",children:[r.jsx("div",{className:`flex-1 p-4 border rounded-lg cursor-pointer ${n==="asap"?"border-indigo-600 bg-indigo-50":"border-gray-200"}`,onClick:()=>i("asap"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3",children:r.jsx("div",{className:`w-5 h-5 rounded-full border ${n==="asap"?"border-indigo-600":"border-gray-400"} flex items-center justify-center`,children:n==="asap"&&r.jsx("div",{className:"w-3 h-3 bg-indigo-600 rounded-full"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:"ASAP Delivery"}),r.jsx("p",{className:"text-sm text-gray-600",children:"30-45 minutes"})]})]})}),r.jsx("div",{className:`flex-1 p-4 border rounded-lg cursor-pointer ${n==="scheduled"?"border-indigo-600 bg-indigo-50":"border-gray-200"}`,onClick:()=>i("scheduled"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3",children:r.jsx("div",{className:`w-5 h-5 rounded-full border ${n==="scheduled"?"border-indigo-600":"border-gray-400"} flex items-center justify-center`,children:n==="scheduled"&&r.jsx("div",{className:"w-3 h-3 bg-indigo-600 rounded-full"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Schedule for Later"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Choose a time slot"})]})]})})]}),n==="scheduled"&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{htmlFor:"time-slot",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Delivery Time"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{id:"time-slot",value:a,onChange:C=>o(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm appearance-none",children:[r.jsx("option",{value:"",children:"Select a time slot"}),r.jsx("option",{value:"12:00-12:30",children:"Today, 12:00 PM - 12:30 PM"}),r.jsx("option",{value:"12:30-13:00",children:"Today, 12:30 PM - 1:00 PM"}),r.jsx("option",{value:"13:00-13:30",children:"Today, 1:00 PM - 1:30 PM"}),r.jsx("option",{value:"13:30-14:00",children:"Today, 1:30 PM - 2:00 PM"}),r.jsx("option",{value:"18:00-18:30",children:"Today, 6:00 PM - 6:30 PM"}),r.jsx("option",{value:"18:30-19:00",children:"Today, 6:30 PM - 7:00 PM"}),r.jsx("option",{value:"19:00-19:30",children:"Today, 7:00 PM - 7:30 PM"})]}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:r.jsx("i",{className:"fas fa-chevron-down text-gray-400"})})]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-6",children:r.jsxs("div",{className:"p-6 border-b border-gray-100",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Payment Method"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer ${l==="credit"?"border-indigo-600 bg-indigo-50":"border-gray-200"}`,onClick:()=>q("credit"),children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3",children:r.jsx("div",{className:`w-5 h-5 rounded-full border ${l==="credit"?"border-indigo-600":"border-gray-400"} flex items-center justify-center`,children:l==="credit"&&r.jsx("div",{className:"w-3 h-3 bg-indigo-600 rounded-full"})})}),r.jsx("div",{className:"flex-grow",children:r.jsx("p",{className:"font-medium text-gray-800",children:"Credit/Debit Card"})}),r.jsx("i",{className:"fas fa-credit-card text-gray-400"})]}),l==="credit"&&r.jsxs("div",{className:"mt-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),r.jsx("input",{type:"text",value:d,onChange:_s,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"1234 5678 9012 3456"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),r.jsx("input",{type:"text",value:h,onChange:C=>x(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"John Doe"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"text",value:p,onChange:Ts,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"MM/YY"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),r.jsx("input",{type:"text",value:w,onChange:C=>v(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"123"})]})]})]})]}),r.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer ${l==="digital"?"border-indigo-600 bg-indigo-50":"border-gray-200"}`,onClick:()=>q("digital"),children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3",children:r.jsx("div",{className:`w-5 h-5 rounded-full border ${l==="digital"?"border-indigo-600":"border-gray-400"} flex items-center justify-center`,children:l==="digital"&&r.jsx("div",{className:"w-3 h-3 bg-indigo-600 rounded-full"})})}),r.jsx("div",{className:"flex-grow",children:r.jsx("p",{className:"font-medium text-gray-800",children:"Digital Payment (Google Pay/Apple Pay/PayPal)"})}),r.jsx("i",{className:"fas fa-mobile-alt text-gray-400"})]}),l==="digital"&&r.jsx("div",{className:"mt-4",children:r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your payment code:"}),r.jsx("p",{className:"text-lg font-mono font-bold text-indigo-600",children:j}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please use this code to complete your payment"})]})})]}),r.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${l==="cash"?"border-indigo-600 bg-indigo-50":"border-gray-200"}`,onClick:()=>q("cash"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-3",children:r.jsx("div",{className:`w-5 h-5 rounded-full border ${l==="cash"?"border-indigo-600":"border-gray-400"} flex items-center justify-center`,children:l==="cash"&&r.jsx("div",{className:"w-3 h-3 bg-indigo-600 rounded-full"})})}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("p",{className:"font-medium text-gray-800",children:"Cash on Delivery"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]}),r.jsx("i",{className:"fas fa-money-bill-wave text-gray-400"})]})})]})]})})]}),r.jsx("div",{className:"lg:w-1/3",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Order Summary"}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"font-medium text-gray-700",children:["Items (",t.length,")"]}),r.jsx("button",{className:"text-indigo-600 text-sm font-medium cursor-pointer whitespace-nowrap",onClick:()=>R(!0),children:"View Details"})]}),r.jsx("div",{className:"space-y-4 max-h-60 overflow-auto pr-2",children:t.map(C=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden mr-3",children:r.jsx("img",{src:C.image,alt:C.name,className:"w-full h-full object-cover object-top"})}),r.jsxs("div",{className:"flex-grow",children:[r.jsx("p",{className:"text-gray-800 text-sm font-medium",children:C.name}),r.jsx("p",{className:"text-gray-500 text-xs",children:C.restaurantName})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-gray-800 font-medium",children:["$",(C.price*C.quantity).toFixed(2)]}),r.jsxs("p",{className:"text-gray-500 text-xs",children:["Qty: ",C.quantity]})]})]},C.id))})]}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsxs("span",{className:"text-gray-800",children:["$",ke.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),r.jsxs("span",{className:"text-gray-800",children:["$",fe.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tax"}),r.jsxs("span",{className:"text-gray-800",children:["$",me.toFixed(2)]})]}),r.jsx("div",{className:"border-t pt-3 mt-2",children:r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{className:"text-gray-800",children:"Total"}),r.jsxs("span",{className:"text-xl text-gray-900",children:["$",Ns.toFixed(2)]})]})})]}),r.jsx("div",{className:"mb-6 bg-indigo-50 p-4 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-clock text-indigo-600 mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Delivery Time"}),r.jsx("p",{className:"font-medium text-gray-800",children:In(t)==="N/A"?"30-45 minutes":In(t)})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("input",{id:"terms",type:"checkbox",checked:N,onChange:()=>E(!N),className:"h-4 w-4 mt-1 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),r.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-600",children:["I agree to the ",r.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-800",children:"Terms of Service"})," and ",r.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-800",children:"Privacy Policy"})]})]}),r.jsx("button",{onClick:V,className:`block w-full py-3 px-4 rounded-lg font-medium !rounded-button cursor-pointer whitespace-nowrap text-center ${O&&N?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-300 text-gray-500 cursor-not-allowed pointer-events-none"}`,disabled:!O||!N,children:"Place Order"}),r.jsx("button",{onClick:()=>te("/cart"),className:"block w-full text-center text-indigo-600 hover:text-indigo-800 text-sm font-medium cursor-pointer bg-transparent border-none mt-2",style:{background:"none"},children:"Return to Cart"})]})]})})]})]})]})};var qf="firebase",Wf="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */et(qf,Wf,"app");const Gf={apiKey:"AIzaSyDmFQWDADXBfAHdITlh1VBoPWwnWZChjGA",authDomain:"wt-project-e22c7.firebaseapp.com",projectId:"wt-project-e22c7",storageBucket:"wt-project-e22c7.firebasestorage.app",messagingSenderId:"510805300509",appId:"1:510805300509:web:6577334c08f4aca8883df4"},Kf=Ci(Gf),os=ne(Kf),ma=new we;new ve;const Jf="_signIn_1ilkn_1",Yf="_container_1ilkn_35",Xf="_loginSection_1ilkn_59",Qf="_graphicSection_1ilkn_77",Zf="_subtitle_1ilkn_115",em="_formGroup_1ilkn_129",tm="_formLabel_1ilkn_135",sm="_formInput_1ilkn_147",rm="_passwordContainer_1ilkn_175",nm="_togglePassword_1ilkn_183",im="_checkboxContainer_1ilkn_219",am="_checkbox_1ilkn_219",om="_checkboxLabel_1ilkn_239",lm="_btn_1ilkn_251",cm="_divider_1ilkn_287",dm="_dividerText_1ilkn_311",um="_googleBtn_1ilkn_325",hm="_footer_1ilkn_367",G={signIn:Jf,container:Yf,loginSection:Xf,graphicSection:Qf,subtitle:Zf,formGroup:em,formLabel:tm,formInput:sm,passwordContainer:rm,togglePassword:nm,checkboxContainer:im,checkbox:am,checkboxLabel:om,btn:lm,divider:cm,dividerText:dm,googleBtn:um,footer:hm},fm="/assets/signin-DV3rCbgJ.png",Cn="https://food-delivery-server-8aer.onrender.com",mm=()=>{const[t,e]=m.useState(""),[s,n]=m.useState(""),[i,a]=m.useState(!1),[o,l]=m.useState(null),c=async u=>{if(u.preventDefault(),!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(t)){l({type:"error",text:"Please enter a valid email address."});return}try{const x=await uh(os,t,s);await B.post(`${Cn}/api/users`,{firebaseUid:x.user.uid,displayName:x.user.displayName,email:x.user.email}),l({type:"success",text:"Signed in! Redirecting…"}),setTimeout(()=>window.location.href="/home",1500)}catch(x){console.error("Sign-in error: ",x);let p="An error occurred during sign-in.";x.code==="auth/invalid-email"?p="Invalid email address format.":x.code==="auth/user-not-found"?p="No user found with this email address.":x.code==="auth/wrong-password"?p="Incorrect password.":x.code==="auth/network-request-failed"?p="Network error. Please try again.":p=`Error: ${x.message}`,l({type:"error",text:p})}},d=async()=>{try{const u=await ca(os,ma);try{await B.post(`${Cn}/api/users`,{firebaseUid:u.user.uid,displayName:u.user.displayName,email:u.user.email})}catch(h){if(h.response&&h.response.status!==400)throw h}l({type:"success",text:"Google sign‑in successful! Redirecting…"}),setTimeout(()=>window.location.href="/",1500)}catch(u){l({type:"error",text:u.message})}};return r.jsx("div",{className:G.signIn,children:r.jsxs("div",{className:G.container,children:[r.jsxs("div",{className:G.loginSection,children:[r.jsx("h1",{children:"Sign in"}),r.jsx("p",{className:G.subtitle,children:"Please login to continue to your account."}),r.jsxs("form",{onSubmit:c,children:[r.jsxs("div",{className:G.formGroup,children:[r.jsx("label",{className:G.formLabel,children:"Email"}),r.jsx("input",{type:"email",className:G.formInput,value:t,onChange:u=>e(u.target.value),placeholder:"Enter your email",required:!0})]}),r.jsxs("div",{className:G.passwordContainer,children:[r.jsx("input",{type:i?"text":"password",className:G.formInput,value:s,onChange:u=>n(u.target.value),placeholder:"Enter your password",required:!0}),r.jsx("span",{className:G.togglePassword,onClick:()=>a(u=>!u),title:i?"Hide password":"Show password",children:i?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"}),r.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"20"})]})})]}),r.jsxs("div",{className:G.checkboxContainer,children:[r.jsx("input",{type:"checkbox",className:G.checkbox,id:"keep"}),r.jsx("label",{htmlFor:"keep",className:G.checkboxLabel,children:"Keep me logged in"})]}),r.jsx("button",{type:"submit",className:G.btn,children:"Sign in"})]}),o&&r.jsx("p",{style:{color:o.type==="error"?"red":"green",marginTop:"10px"},children:o.text}),r.jsx("div",{className:G.divider,children:r.jsx("span",{className:G.dividerText,children:"or"})}),r.jsxs("button",{className:G.googleBtn,onClick:d,children:[r.jsxs("svg",{className:G.googleIcon,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 48 48",children:[r.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),r.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),r.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),r.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),r.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Sign in with Google"]}),r.jsxs("div",{className:G.footer,children:["Need an account? ",r.jsx("a",{href:"/signup",children:"Create one"})]})]}),r.jsx("div",{className:G.graphicSection,children:r.jsx("img",{src:fm,alt:"Graphic"})})]})})},pm="_signUp_1nveh_1",gm="_container_1nveh_33",xm="_left_1nveh_55",ym="_right_1nveh_79",bm="_formBox_1nveh_87",vm="_divider_1nveh_107",wm="_socialButtons_1nveh_129",Nm="_formInput_1nveh_183",jm="_createAccount_1nveh_241",_m="_loginLink_1nveh_267",Em="_passwordContainer_1nveh_295",Tm="_togglePassword_1nveh_301",Im="_graphicSection_1nveh_321",X={signUp:pm,container:gm,left:xm,right:ym,formBox:bm,divider:vm,socialButtons:wm,formInput:Nm,createAccount:jm,loginLink:_m,passwordContainer:Em,togglePassword:Tm,graphicSection:Im},Cm="/assets/signup-C80xYkmD.png",Sn="https://food-delivery-server-8aer.onrender.com",Sm=()=>{const[t,e]=m.useState(""),[s,n]=m.useState(""),[i,a]=m.useState(""),[o,l]=m.useState(null),[c,d]=m.useState(!1),u=async x=>{x.preventDefault();try{const p=await dh(os,t,i);await hh(p.user),await B.post(`${Sn}/api/users`,{firebaseUid:p.user.uid,displayName:s,email:t}),l({type:"success",text:"Account created! Check your email."}),setTimeout(()=>window.location.href="/home",1500)}catch(p){p.code==="auth/email-already-in-use"?l({type:"error",text:"An account with this email already exists."}):l({type:"error",text:p.message})}},h=async()=>{try{const x=await ca(os,ma);await B.post(`${Sn}/api/users`,{firebaseUid:x.user.uid,displayName:x.user.displayName,email:x.user.email}),window.location.href="/"}catch(x){l({type:"error",text:x.message})}};return r.jsx("div",{className:X.signUp,children:r.jsxs("div",{className:X.container,children:[r.jsx("div",{className:X.left,children:r.jsx("div",{className:X.graphicSection,children:r.jsx("img",{src:Cm,alt:"Sign in graphic"})})}),r.jsx("div",{className:X.right,children:r.jsxs("div",{className:X.formBox,children:[r.jsx("h1",{children:"Create Account"}),r.jsx("div",{className:X.socialButtons,children:r.jsxs("button",{className:X.googleBtn,onClick:h,children:[r.jsx("img",{src:"https://img.icons8.com/color/16/000000/google-logo.png",alt:"Google logo",width:18,height:18,style:{marginRight:"8px"}}),"Sign up with Google"]})}),r.jsx("div",{className:X.divider,children:r.jsx("span",{children:"OR"})}),r.jsxs("form",{onSubmit:u,children:[r.jsx("input",{type:"text",placeholder:"Full Name",value:s,onChange:x=>n(x.target.value),required:!0,className:X.formInput}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("input",{type:"email",placeholder:"Email Address",value:t,onChange:x=>e(x.target.value),required:!0,className:X.formInput}),r.jsx("br",{}),r.jsx("br",{}),r.jsxs("div",{className:X.passwordContainer,children:[r.jsx("input",{type:c?"text":"password",className:X.formInput,value:i,onChange:x=>a(x.target.value),placeholder:"Enter your password",required:!0}),r.jsx("span",{className:X.togglePassword,onClick:()=>d(x=>!x),title:c?"Hide password":"Show password",children:c?r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"}),r.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"20"})]})})]}),r.jsx("button",{type:"submit",className:X.createAccount,children:"Create Account"})]}),o&&r.jsx("p",{style:{color:o.type==="error"?"red":"green"},children:o.text}),r.jsxs("p",{className:X.loginLink,children:["Already have an account? ",r.jsx("a",{href:"/signin",children:"Log in"})]})]})})]})})},kn=["Google Pay","Apple Pay","Cash on Delivery","Credit/Debit Card"],Be="https://food-delivery-server-8aer.onrender.com",km=()=>{const t=ne(),e=t.currentUser,s=oe(),[n,i]=m.useState({}),[a,o]=m.useState(!0),[l,c]=m.useState(null),[d,u]=m.useState(!1),[h,x]=m.useState(!1),[p,b]=m.useState(!1),[w,v]=m.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,y]=m.useState(""),[N,E]=m.useState(""),[k,R]=m.useState(!1),[_,S]=m.useState({label:"",street:"",city:"",state:"",postalCode:"",isDefault:!1}),[f,I]=m.useState([]),O=T=>{const{name:V,value:q}=T.target;i(C=>({...C,[V]:q}))},A=T=>{const{name:V,value:q}=T.target;i(C=>({...C,[V]:q}))},M=async()=>{if(e){o(!0);try{await mh(e,{displayName:n.displayName,photoURL:n.photoURL}),await fetch(`${Be}/api/users/${e.uid}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),c("Updated"),u(!1),await dt(e.uid)}catch{c("Failed to update profile.")}o(!1)}},J=async()=>{if(e&&window.confirm("Are you sure you want to delete your account? This cannot be undone.")){o(!0);try{if(!(await fetch(`${Be}/api/users/${e.uid}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete user from database");await e.delete(),window.localStorage.removeItem("userId"),await mn(t),window.location.replace("/")}catch(T){console.error("Error deleting account:",T),c("Failed to delete account. Please try again.")}o(!1)}},te=T=>{const V=T.target.files&&T.target.files[0];if(V){const q=new FileReader;q.onload=C=>{i(H=>{var z;return{...H,photoURL:(z=C.target)==null?void 0:z.result}})},q.readAsDataURL(V)}},ke=()=>{alert("Camera capture not implemented in this demo.")},fe=async(T,V=null)=>{e&&(await fetch(`${Be}/api/users/${e.uid}/address`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:T,addressId:V})}),await dt(e.uid))},me=async T=>{e&&(await fetch(`${Be}/api/users/${e.uid}/address/${T}`,{method:"DELETE"}),await dt(e.uid))},Ns=async()=>{!_.label||!_.street||!_.city||!_.state||!_.postalCode||(R(!1),e&&(await fe(_),S({label:"",street:"",city:"",state:"",postalCode:"",isDefault:!1})))},js=async T=>{const V=f.find(q=>q._id===T||q.id===T);V&&await fe({...V,isDefault:!0},V._id||V.id)},_s=()=>{window.scrollTo({top:0,behavior:"smooth"})},Es=async()=>{const T=ne();await mn(T),window.location.replace("/")},Ts=()=>n?typeof n.displayName=="string"&&n.displayName.trim()!==""&&typeof n.email=="string"&&n.email.trim()!==""&&typeof n.phone=="string"&&n.phone.trim()!==""&&typeof n.address=="string"&&n.address.trim()!==""&&typeof n.deliveryAddress=="string"&&n.deliveryAddress.trim()!==""&&typeof n.preferredPaymentMethod=="string"&&kn.includes(n.preferredPaymentMethod):!1,dt=async T=>{const V=await fetch(`${Be}/api/users/${T}`);if(V.ok){const q=await V.json();i(q),I(q.addresses||[])}};return L.useEffect(()=>{const T=async()=>{if(!e)return;o(!0);const V=await fetch(`${Be}/api/users/${e.uid}`);if(V.ok){const q=await V.json();i(q),I(q.addresses||[])}o(!1)};return T(),window.addEventListener("focus",T),()=>window.removeEventListener("focus",T)},[e]),a?r.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-white shadow-md z-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[r.jsx("i",{className:"fas fa-utensils text-orange-500 text-2xl mr-2"}),r.jsx("span",{className:"font-bold text-xl text-gray-800",children:"FoodDelivery"})]}),r.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[r.jsx("button",{onClick:()=>s("/"),className:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium cursor-pointer whitespace-nowrap bg-transparent",children:"Home"}),r.jsx("button",{onClick:()=>s("/restaurants"),className:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium cursor-pointer whitespace-nowrap bg-transparent",children:"Restaurants"}),r.jsx("button",{onClick:()=>s("/orders"),className:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium cursor-pointer whitespace-nowrap bg-transparent",children:"Orders"}),r.jsx("span",{className:"border-orange-500 text-orange-600 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium cursor-pointer whitespace-nowrap",children:"Profile"})]})]}),r.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:r.jsxs("button",{type:"button",onClick:Es,className:"bg-red-500 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 !rounded-button cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),"Logout"]})}),r.jsx("div",{className:"flex items-center sm:hidden",children:r.jsx("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-orange-500 !rounded-button cursor-pointer whitespace-nowrap",children:r.jsx("i",{className:"fas fa-bars"})})})]})})}),r.jsx("div",{className:"pt-16 pb-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex flex-col items-center mt-8 mb-10",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%)"},children:r.jsx(fa,{className:"text-white text-5xl"})}),r.jsx("div",{className:"absolute bottom-0 right-0 bg-orange-500 rounded-full p-2 shadow-md cursor-pointer",onClick:()=>x(!0),children:r.jsx("i",{className:"fas fa-camera text-white"})})]}),r.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800",children:(n.displayName||"").trim()!==""?n.displayName:n.email?n.email.split("@")[0]:""}),r.jsxs("button",{onClick:()=>u(!0),className:"mt-2 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-orange-700 bg-orange-100 hover:bg-orange-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"fas fa-pencil-alt mr-2"}),"Edit Profile"]})]}),l&&r.jsx("div",{className:`mb-4 px-4 py-3 rounded relative ${l==="Updated"?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}`,children:r.jsx("span",{className:"block sm:inline",children:l==="Updated"?"Your profile has been updated and stored in MongoDB!":l})}),!a&&!Ts()&&r.jsx("div",{className:"mb-4 bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative",children:r.jsx("span",{className:"block sm:inline",children:"Your profile is incomplete. Please fill out all required fields to continue ordering."})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-5 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Personal Information"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Update your account details and personal information."})]}),r.jsxs("div",{className:"px-6 py-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"fas fa-user text-gray-400"})}),r.jsx("input",{type:"text",name:"displayName",id:"displayName",className:"focus:ring-orange-500 focus:border-orange-500 block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md",value:n.displayName||"",onChange:O,disabled:!d}),d&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("i",{className:"fas fa-pencil-alt text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),r.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"fas fa-envelope text-gray-400"})}),r.jsx("input",{type:"email",name:"email",id:"email",className:"focus:ring-orange-500 focus:border-orange-500 block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md",value:n.email||"",onChange:O,disabled:!d}),d&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("i",{className:"fas fa-pencil-alt text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"fas fa-phone text-gray-400"})}),r.jsx("input",{type:"text",name:"phone",id:"phone",className:"focus:ring-orange-500 focus:border-orange-500 block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md",value:n.phone||"",onChange:O,disabled:!d}),d&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("i",{className:"fas fa-pencil-alt text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Home Address"}),r.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("i",{className:"fas fa-home text-gray-400"})}),r.jsx("input",{type:"text",name:"address",id:"address",className:"focus:ring-orange-500 focus:border-orange-500 block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md",value:n.address||"",onChange:O,disabled:!d}),d&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("i",{className:"fas fa-pencil-alt text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"preferredPaymentMethod",className:"block text-sm font-medium text-gray-700",children:"Preferred Payment Method"}),r.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[r.jsxs("select",{name:"preferredPaymentMethod",id:"preferredPaymentMethod",className:"focus:ring-orange-500 focus:border-orange-500 block w-full pr-12 sm:text-sm border-gray-300 rounded-md",value:n.preferredPaymentMethod||"",onChange:A,disabled:!d,children:[r.jsx("option",{value:"",children:"Select a payment method"}),kn.map(T=>r.jsx("option",{value:T,children:T},T))]}),d&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:r.jsx("i",{className:"fas fa-pencil-alt text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{children:"Password"}),r.jsx("div",{children:n.password===null?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-yellow-600",children:"Password not set (Google login)"}),r.jsx("button",{onClick:()=>b(!0),className:"ml-2 text-blue-600 underline",children:"Set Password"})]}):null})]})]}),r.jsx("div",{className:"px-6 py-4 bg-gray-50 text-right",children:d?r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button cursor-pointer whitespace-nowrap",children:"Cancel"}),r.jsx("button",{type:"button",onClick:M,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button cursor-pointer whitespace-nowrap",children:"Save Changes"})]}):r.jsx("button",{type:"button",onClick:()=>u(!0),className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button cursor-pointer whitespace-nowrap",children:"Edit Information"})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"px-6 py-5 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Account Actions"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account settings."})]}),r.jsxs("div",{className:"px-6 py-6 space-y-4",children:[r.jsxs("button",{type:"button",onClick:()=>b(!0),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 !rounded-button cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"fas fa-key mr-2"}),n.password===null?"Set Password":"Change Password"]}),r.jsxs("button",{type:"button",onClick:M,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"fas fa-sync-alt mr-2"}),"Update Profile"]}),r.jsxs("button",{type:"button",onClick:J,className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 !rounded-button cursor-pointer whitespace-nowrap",children:[r.jsx("i",{className:"fas fa-trash-alt mr-2"}),"Delete Account"]})]})]}),h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload Profile Picture"}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-500",title:"Close image upload modal",children:r.jsx("i",{className:"fas fa-times"})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("label",{className:"flex flex-col items-center justify-center p-6 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[r.jsx("i",{className:"fas fa-upload text-3xl text-orange-500 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Upload from Device"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:te})]}),r.jsxs("button",{onClick:ke,className:"flex flex-col items-center justify-center p-6 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",title:"Take photo with camera",children:[r.jsx("i",{className:"fas fa-camera text-3xl text-orange-500 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Take Photo"})]}),r.jsxs("label",{className:"flex flex-col items-center justify-center p-6 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[r.jsx("i",{className:"fas fa-images text-3xl text-orange-500 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Choose from Gallery"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:te})]}),r.jsxs("label",{className:"flex flex-col items-center justify-center p-6 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[r.jsx("i",{className:"fas fa-file-upload text-3xl text-orange-500 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Upload File"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:te})]})]}),r.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:"Supported formats: JPG, PNG, GIF (max. 5MB)"})]})}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n.password===null?"Set Password":"Change Password"}),r.jsx("button",{onClick:()=>{b(!1),v({currentPassword:"",newPassword:"",confirmPassword:""}),y(""),E("")},className:"text-gray-400 hover:text-gray-500",title:"Close password modal",children:r.jsx("i",{className:"fas fa-times"})})]}),r.jsxs("form",{onSubmit:async T=>{if(T.preventDefault(),y(""),E(""),w.newPassword!==w.confirmPassword){y("New password and confirm password do not match.");return}if(w.newPassword.length<6){y("Password must be at least 6 characters.");return}try{const q=ne().currentUser;if(!q)throw new Error("Not authenticated");const C=await fetch(`${Be}/api/users/${q.uid}/password`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:n.password===null?void 0:w.currentPassword,newPassword:w.newPassword})});if(!C.ok){const H=await C.json();y(H.message||"Failed to update password.");return}E("Password updated successfully!"),v({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>b(!1),1500)}catch{y("Failed to update password.")}},children:[n.password!==null&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Password"}),r.jsx("input",{type:"password",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",value:w.currentPassword,onChange:T=>v({...w,currentPassword:T.target.value}),required:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Password"}),r.jsx("input",{type:"password",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",value:w.newPassword,onChange:T=>v({...w,newPassword:T.target.value}),required:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),r.jsx("input",{type:"password",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 sm:text-sm",value:w.confirmPassword,onChange:T=>v({...w,confirmPassword:T.target.value}),required:!0})]}),j&&r.jsx("div",{className:"text-red-600 mb-2",children:j}),N&&r.jsx("div",{className:"text-green-600 mb-2",children:N}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button",children:n.password===null?"Set Password":"Update Password"})]})]})]})}),k&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Address"}),r.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-500",title:"Close address modal",children:r.jsx("i",{className:"fas fa-times"})})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[r.jsx("input",{type:"text",className:"border rounded p-2",placeholder:"Label (e.g. Home, Work)",value:_.label||"",onChange:T=>S({..._,label:T.target.value})}),r.jsx("input",{type:"text",className:"border rounded p-2",placeholder:"Street",value:_.street||"",onChange:T=>S({..._,street:T.target.value})}),r.jsx("input",{type:"text",className:"border rounded p-2",placeholder:"City",value:_.city||"",onChange:T=>S({..._,city:T.target.value})}),r.jsx("input",{type:"text",className:"border rounded p-2",placeholder:"State",value:_.state||"",onChange:T=>S({..._,state:T.target.value})}),r.jsx("input",{type:"text",className:"border rounded p-2",placeholder:"Postal Code",value:_.postalCode||"",onChange:T=>S({..._,postalCode:T.target.value})}),r.jsxs("label",{className:"flex items-center mt-2",children:[r.jsx("input",{type:"checkbox",checked:!!_.isDefault,onChange:T=>S({..._,isDefault:T.target.checked}),className:"mr-2"}),"Set as default address"]})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button",children:"Cancel"}),r.jsx("button",{onClick:Ns,className:"px-4 py-2 bg-orange-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button",children:"Add Address"})]})]})}),r.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[r.jsx("div",{className:"px-6 py-5 border-b border-gray-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"My Addresses"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your delivery addresses."})]}),r.jsxs("button",{onClick:()=>R(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button",children:[r.jsx("i",{className:"fas fa-plus mr-2"}),"Add Address"]})]})}),r.jsx("div",{className:"px-6 py-6 space-y-4",children:f.map(T=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("i",{className:"fas fa-map-marker-alt text-orange-500 text-lg"})}),r.jsxs("div",{children:[r.jsxs("div",{children:[r.jsxs("span",{children:[T.label,":"]}),r.jsx("span",{children:[T.street,T.city,T.state,T.postalCode].filter(Boolean).join(", ")})]}),T.isDefault?r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Default"}):r.jsx("button",{onClick:async()=>{await js(T._id||T.id)},className:"text-sm text-orange-600 hover:text-orange-700 mt-1",title:"Set as default address",children:"Set as Default"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("button",{onClick:()=>me(T._id||T.id),className:"text-sm text-red-600 hover:text-red-700",title:"Remove address",children:r.jsx("i",{className:"fas fa-trash-alt"})})})]},T._id||T.id))})]})]})]})]})}),r.jsx("button",{onClick:_s,className:"fixed bottom-8 right-8 bg-orange-500 text-white p-3 rounded-full shadow-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 !rounded-button cursor-pointer whitespace-nowrap",title:"Back to top",children:r.jsx("i",{className:"fas fa-arrow-up"})})]})},Pm="https://food-delivery-server-8aer.onrender.com",Am=()=>{const[t,e]=m.useState([]),[s,n]=m.useState(!0),[i,a]=m.useState(null),o=oe();return m.useEffect(()=>{(async()=>{const d=ne().currentUser,u=d==null?void 0:d.uid;if(!u){a("You must be logged in to view your orders."),n(!1);return}try{n(!0),a(null);const h=await fetch(`${Pm}/api/orders/firebase/${u}`);if(!h.ok)throw new Error("Failed to fetch orders");const x=await h.json();e(x)}catch(h){a(h instanceof Error?h.message:"An error occurred")}finally{n(!1)}})()},[]),r.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Order History"}),s?r.jsx("div",{className:"text-center py-12",children:"Loading..."}):i?r.jsx("div",{className:"text-center text-red-500 py-12",children:i}):t.length===0?r.jsx("div",{className:"text-center text-gray-500 py-12",children:"No orders found."}):r.jsx("div",{className:"space-y-6",children:t.map(l=>{var c;return r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-semibold",children:((c=l.items[0])==null?void 0:c.restaurantName)||"Restaurant"}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Order ID: ",l._id]})]}),r.jsx("div",{className:"text-sm text-gray-600",children:new Date(l.createdAt).toLocaleString()})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx("span",{className:"font-medium",children:"Items:"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-gray-700",children:l.items.map((d,u)=>r.jsxs("li",{children:[d.name," x",d.quantity]},u))})]}),r.jsxs("div",{className:"flex justify-between items-center mt-2",children:[r.jsx("div",{children:r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${l.status==="delivered"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:l.status})}),r.jsxs("div",{className:"text-lg font-bold text-gray-800",children:["$",l.total.toFixed(2)]})]}),r.jsx("button",{onClick:()=>o(`/cart-details/${l._id}`),className:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"View Details"})]},l._id)})}),r.jsx("button",{onClick:()=>o(-1),className:"mt-8 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Back"})]})})},Rm=({className:t})=>{const e=oe(),n=JSON.parse(localStorage.getItem("cart")||"[]").reduce((i,a)=>i+a.quantity,0);return r.jsxs("div",{className:"relative cursor-pointer",onClick:()=>e("/cart"),children:[r.jsx(Uf,{className:`text-2xl text-gray-700 hover:text-orange-600 ${t||""}`}),n>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:n})]})},Om=()=>{const[t,e]=m.useState(!1),[s]=m.useState("Erode, 638052"),[n,i]=m.useState("All"),[a,o]=m.useState("Rating"),[l,c]=m.useState(""),d=oe(),[u,h]=m.useState([]),[,x]=m.useState([]),[p,b]=m.useState(!0),[w,v]=m.useState(null),[j,y]=m.useState("C"),N="https://food-delivery-server-8aer.onrender.com",E=["All","Indian","Italian","Chinese","Mexican","Thai","Japanese"],k=["Rating","Delivery Time","Distance","Price: Low to High","Price: High to Low"];m.useEffect(()=>{const f=async()=>{var O,A;try{b(!0),v(null);const M=await fr.getAll();if(!(M!=null&&M.data))throw new Error("Invalid response format from restaurants API");h(M.data);const J=await mr.getAll();if(!(J!=null&&J.data))throw new Error("Invalid response format from menu API");x(J.data)}catch(M){let J="Failed to fetch data";B.isAxiosError(M)?M.message.includes("Network Error")?J="Unable to connect to the server. Please check your internet connection or if the backend is running.":((O=M.response)==null?void 0:O.status)===404?J="API endpoint not found. Please check the server configuration.":((A=M.response)==null?void 0:A.status)===500&&(J="Server error. Please try again later."):M instanceof Error&&M.message.includes("API URL")&&(J=M.message),v(J),console.error("Error fetching data:",M)}finally{b(!1)}};f();const I=setInterval(f,3e4);return()=>clearInterval(I)},[]),m.useEffect(()=>{const f=ne(),I=f.currentUser;I&&console.log(I.uid);const O=f.onAuthStateChanged(A=>{e(!!A),A?A.displayName&&A.displayName.length>0?y(A.displayName[0].toUpperCase()):A.email&&A.email.length>0?y(A.email[0].toUpperCase()):y("U"):y("U")});return()=>O()},[]);const _=[...u.filter(f=>{const I=n==="All"||f.cuisine===n,O=f.name.toLowerCase().includes(l.toLowerCase())||f.cuisine.toLowerCase().includes(l.toLowerCase());return I&&O&&f.isActive})].sort((f,I)=>{switch(a){case"Rating":return I.rating-f.rating;case"Delivery Time":return parseInt(f.deliveryTime.split("-")[0])-parseInt(I.deliveryTime.split("-")[0]);case"Distance":return f.distance-I.distance;case"Price: Low to High":return f.minOrder-I.minOrder;case"Price: High to Low":return I.minOrder-f.minOrder;default:return 0}}),S=f=>f?typeof f=="string"?f:[f.street,f.city,f.state,f.zipCode].filter(Boolean).join(", "):"";return p?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading restaurants..."})]})}):w?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("i",{className:"fas fa-exclamation-circle text-5xl text-red-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Data"}),r.jsx("p",{className:"text-gray-600 mb-4",children:w}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-orange-600 text-white rounded-button hover:bg-orange-700",children:"Try Again"})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cr,{}),r.jsxs("header",{className:"bg-white shadow-md sticky top-0 z-10",children:[r.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h1",{className:"text-2xl font-bold text-orange-600",children:"FoodExpress"})}),r.jsxs("div",{className:"hidden md:flex items-center mx-4 text-gray-700",children:[r.jsx("i",{className:"fas fa-map-marker-alt text-orange-500 mr-2"}),r.jsx("span",{className:"text-sm",children:s})]}),r.jsxs("div",{className:"relative flex-1 max-w-xl mx-4",children:[r.jsx("input",{type:"text",placeholder:"Search for restaurants, cuisines...",className:"w-full py-2 px-4 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",value:l,onChange:f=>c(f.target.value)}),r.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 cursor-pointer",title:"Search","aria-label":"Search",children:r.jsx("i",{className:"fas fa-search","aria-hidden":"true"})})]}),r.jsxs("div",{className:"flex items-center ml-4",children:[r.jsx("div",{className:"relative mr-4",children:r.jsx(Rm,{className:"text-4xl"})}),r.jsx("button",{onClick:()=>d("/profile"),className:"mr-2 focus:outline-none",title:"Profile","aria-label":"Profile",children:t?r.jsx("span",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full text-white text-3xl font-bold uppercase",style:{background:"linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%)"},children:j}):r.jsx(fa,{className:"w-12 h-12 text-gray-400"})})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[r.jsx("div",{className:"flex overflow-x-auto pb-2 md:pb-0 hide-scrollbar",children:E.map(f=>r.jsx("button",{className:`px-4 py-1.5 mr-2 rounded-full text-sm whitespace-nowrap cursor-pointer ${n===f?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>i(f),children:f},f))}),r.jsxs("div",{className:"relative mt-2 md:mt-0",children:[r.jsx("select",{title:"Sort Options",className:"appearance-none bg-white border border-gray-300 rounded-full px-4 py-1.5 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer",value:a,onChange:f=>o(f.target.value),children:k.map(f=>r.jsxs("option",{value:f,children:["Sort by: ",f]},f))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:r.jsx("i",{className:"fas fa-chevron-down text-xs"})})]})]})})]}),r.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"relative rounded-xl overflow-hidden mb-10 h-96",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-900 to-transparent z-10"}),r.jsx("div",{className:"absolute inset-0",children:r.jsx("img",{src:"https://readdy.ai/api/search-image?query=A%20stunning%20food%20delivery%20hero%20image%20showcasing%20a%20variety%20of%20delicious%20dishes%20including%20pizza%2C%20burgers%2C%20sushi%2C%20and%20salads%20arranged%20beautifully%20on%20a%20modern%20dining%20table.%20The%20left%20side%20has%20a%20gradient%20overlay%20that%20seamlessly%20blends%20with%20text.%20The%20image%20has%20professional%20food%20photography%20lighting%20with%20vibrant%20colors%20and%20appetizing%20presentation%20against%20a%20clean%20minimal%20background&width=1440&height=500&seq=9&orientation=landscape",alt:"Food delivery",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"relative z-20 h-full flex flex-col justify-center px-8 md:px-16 text-white max-w-2xl",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Delicious Food Delivered To Your Doorstep"}),r.jsx("p",{className:"text-lg md:text-xl mb-6",children:"Order from your favorite restaurants with just a few clicks"}),r.jsxs("div",{className:"flex",children:[r.jsx("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-button whitespace-nowrap font-medium cursor-pointer",onClick:()=>d("/cart"),children:"Order Now"}),r.jsx("button",{className:"ml-4 bg-white hover:bg-gray-100 text-orange-600 px-6 py-3 rounded-button whitespace-nowrap font-medium cursor-pointer",onClick:()=>d("/restaurants"),children:"View Restaurants"})]})]})]}),r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Restaurants Near You"}),_.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.map(f=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer",onClick:()=>d(`/restaurant/${f._id}`),children:[r.jsx("div",{className:"h-48 overflow-hidden",children:r.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-bold text-lg",children:f.name}),r.jsxs("div",{className:"flex items-center bg-green-100 px-2 py-1 rounded",children:[r.jsx("span",{className:"text-sm font-medium text-green-800",children:f.rating}),r.jsx("i",{className:"fas fa-star text-yellow-500 ml-1 text-xs"})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:S(f.address)}),r.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[r.jsxs("div",{className:"flex items-center mr-3",children:[r.jsx("i",{className:"fas fa-clock mr-1"}),r.jsxs("span",{children:[f.deliveryTime," min"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),r.jsxs("span",{children:[f.distance," mi"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Min. order: $",f.minOrder]}),r.jsxs("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium cursor-pointer",onClick:I=>{I.stopPropagation(),d(`/restaurant/${f._id}`)},children:["View Restaurant ",r.jsx("i",{className:"fas fa-chevron-right ml-1 text-xs"})]})]})]})]},f._id))}):r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[r.jsx("i",{className:"fas fa-search text-5xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No restaurants found"}),r.jsx("p",{className:"text-gray-600",children:"We couldn't find any restaurants matching your search criteria. Please try different filters."}),r.jsx("button",{className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-button whitespace-nowrap hover:bg-orange-700 cursor-pointer",onClick:()=>{i("All"),c("")},children:"Clear Filters"})]})]}),r.jsx("section",{className:"bg-orange-50 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Why Choose FoodExpress?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("img",{src:"https://img.icons8.com/ios-filled/50/000000/lightning-bolt.png",alt:"Fast Delivery",className:"w-8 h-8"})}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Fast Delivery"}),r.jsx("p",{className:"text-gray-600",children:"Your favorite food delivered hot and fresh to your doorstep in under 35 minutes."})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("div",{className:"w-8 h-8",children:r.jsx("svg",{fill:"#000000",viewBox:"-38.07 -38.07 456.86 456.86",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000",strokeWidth:"0.0038",className:"w-full h-full",children:r.jsx("g",{children:r.jsxs("g",{children:[r.jsx("path",{d:"M190.372,29.813c-88.673,0-160.546,71.873-160.546,160.547c0,65.89,39.73,122.438,96.504,147.173l2.092-40.525 c0-32.242-23.83-21.912-23.83-44.465c0-12.641,0.395-38.98,0.395-58.755c0-52.697,22.377-103.673,27.874-115.048 c5.53-11.363,18.537-23.76,18.677-11.828c0,17.312,0.738,218.618,0.738,218.618h-0.035l2.463,61.241 c11.497,2.626,23.395,4.125,35.669,4.125c6.728,0,13.304-0.546,19.822-1.349l5.31-102.906 c-13.106-2.869-24.283-11.212-31.295-21.68c-8.685-13.014,6.675-128.067,6.675-128.067h10.004v107.978h9.922V96.894h10.84v107.978 h9.889V96.894h11.258v107.978h9.911V96.894h7.668c0,0,15.349,115.054,6.669,128.067c-6.947,10.363-18.009,18.682-30.952,21.633 c-0.232,0.07-0.441,0.163-0.441,0.163l5.02,95.993c63.995-21.11,110.249-81.307,110.249-152.39 C350.907,101.687,279.034,29.813,190.372,29.813z"}),r.jsx("path",{d:"M190.372,0C85.415,0,0,85.397,0,190.36C0,295.3,85.415,380.721,190.372,380.721c104.952,0,190.35-85.421,190.35-190.361 C380.721,85.397,295.324,0,190.372,0z M190.372,366.523c-97.144,0-176.18-79.03-176.18-176.163 c0-97.144,79.036-176.18,176.18-176.18c97.133,0,176.175,79.036,176.175,176.18C366.546,287.493,287.504,366.523,190.372,366.523z"})]})})})})}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Local Restaurants"}),r.jsx("p",{className:"text-gray-600",children:"Support local businesses by ordering from the best restaurants in your neighborhood."})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("img",{src:"https://img.icons8.com/ios-filled/50/000000/map-marker.png",alt:"Live Tracking",className:"w-8 h-8"})}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Live Tracking"}),r.jsx("p",{className:"text-gray-600",children:"Track your order in real-time and know exactly when your food will arrive—all from your browser, no app needed!"})]})]})]})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Popular Cuisines"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:E.filter(f=>f!=="All").map(f=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center hover:shadow-md transition-shadow cursor-pointer",onClick:()=>i(f),children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden",children:r.jsx("img",{src:`https://readdy.ai/api/search-image?query=${f}%20cuisine%20food%20dish%20presented%20beautifully%20on%20a%20clean%20white%20plate%20with%20minimal%20styling%20and%20soft%20natural%20lighting%2C%20showcasing%20authentic%20traditional%20preparation%20with%20vibrant%20colors%20and%20fresh%20ingredients&width=100&height=100&seq=${E.indexOf(f)}&orientation=squarish`,alt:f,className:"w-full h-full object-cover"})}),r.jsx("h3",{className:"font-medium",children:f})]},f))})]})}),r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold",children:"1"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Choose a Restaurant"}),r.jsx("p",{className:"text-gray-600",children:"Browse through our extensive list of restaurants near you"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold",children:"2"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Select Your Meal"}),r.jsx("p",{className:"text-gray-600",children:"Choose from a variety of delicious dishes on the menu"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold",children:"3"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Place Your Order"}),r.jsx("p",{className:"text-gray-600",children:"Confirm your order and choose cash on delivery"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold",children:"4"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Enjoy Your Food"}),r.jsx("p",{className:"text-gray-600",children:"Track your order and enjoy your meal when it arrives"})]})]})]})}),r.jsx("footer",{className:"bg-gray-900 text-white pt-12 pb-6",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"WT-FoodExpress"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Delivering happiness with every order."}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:r.jsx("i",{className:"fab fa-twitter"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:r.jsx("i",{className:"fab fa-linkedin-in"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Home"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Restaurants"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Contact"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Legal"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Refund Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Cookie Policy"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("i",{className:"fas fa-map-marker-alt mt-1 mr-2"}),r.jsx("span",{children:"123 Food Street, Delivery City, DC 12345"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-phone-alt mr-2"}),r.jsx("span",{children:"+1 (555) 123-4567"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-envelope mr-2"}),r.jsx("span",{children:"support@foodexpress.com"})]})]})]})]}),r.jsxs("div",{className:"pt-6 border-t border-gray-800 text-center text-gray-400 text-sm",children:[r.jsxs("p",{children:["© ",new Date().getFullYear(),"FoodExpress. All rights reserved."]}),r.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[r.jsx("i",{className:"fab fa-cc-visa text-2xl"}),r.jsx("i",{className:"fab fa-cc-mastercard text-2xl"}),r.jsx("i",{className:"fab fa-cc-amex text-2xl"}),r.jsx("i",{className:"fab fa-cc-paypal text-2xl"})]})]})]})}),r.jsx("style",{children:`
        .hide-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .hide-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .rounded-button {
          border-radius: 9999px;
        }
      `})]})},Dm="https://food-delivery-server-8aer.onrender.com",Lm=()=>{const[t,e]=m.useState(!1),[s]=m.useState("Erode, 638052"),[n,i]=m.useState("All"),[a,o]=m.useState("Rating"),[l,c]=m.useState(""),d=oe(),[u,h]=m.useState("U"),[x,p]=m.useState([]),[,b]=m.useState([]),[w,v]=m.useState(!0),[j,y]=m.useState(null),N=["All","Indian","Italian","Chinese","Mexican","Thai","Japanese"],E=["Rating","Delivery Time","Distance","Price: Low to High","Price: High to Low"];m.useEffect(()=>{const f=ne(),I=Tr(f,O=>{if(e(!!O),O){const A=O.displayName||"",M=O.email||"";A.length>0?h(A[0].toUpperCase()):M.length>0?h(M[0].toUpperCase()):h("U")}else h("U")});return()=>I()},[]),m.useEffect(()=>{(async()=>{var I,O;try{v(!0),y(null);const A=await fr.getAll();if(!(A!=null&&A.data))throw new Error("Invalid response format from restaurants API");p(A.data);const M=await mr.getAll();if(!(M!=null&&M.data))throw new Error("Invalid response format from menu API");b(M.data)}catch(A){console.error("Error fetching data:",A);let M="Failed to fetch data";B.isAxiosError(A)?A.message.includes("Network Error")?M="Unable to connect to the server. Please check your internet connection.":((I=A.response)==null?void 0:I.status)===404?M="API endpoint not found. Please check the server configuration.":((O=A.response)==null?void 0:O.status)===500&&(M="Server error. Please try again later."):A instanceof Error&&A.message.includes("API URL")&&(M=A.message),y(M)}finally{v(!1)}})()},[]);const R=[...x.filter(f=>{const I=n==="All"||f.cuisine===n,O=f.name.toLowerCase().includes(l.toLowerCase())||f.cuisine.toLowerCase().includes(l.toLowerCase());return I&&O&&f.isActive})].sort((f,I)=>{switch(a){case"Rating":return I.rating-f.rating;case"Delivery Time":return parseInt(f.deliveryTime.split("-")[0])-parseInt(I.deliveryTime.split("-")[0]);case"Distance":return f.distance-I.distance;case"Price: Low to High":return f.minOrder-I.minOrder;case"Price: High to Low":return I.minOrder-f.minOrder;default:return 0}}),_=f=>f?typeof f=="string"?f:[f.street,f.city,f.state,f.zipCode].filter(Boolean).join(", "):"",S=()=>{if(!t){U.error("Please sign in to view your orders"),d("/signin");return}d("/orders")};return m.useEffect(()=>{t&&d("/home")},[t,d]),w?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading restaurants..."})]})}):j?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("i",{className:"fas fa-exclamation-circle text-5xl text-red-500 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Data"}),r.jsx("p",{className:"text-gray-600 mb-4",children:j}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-orange-600 text-white rounded-button hover:bg-orange-700",children:"Try Again"})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(cr,{}),r.jsxs("header",{className:"bg-white shadow-md sticky top-0 z-10",children:[r.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h1",{className:"text-2xl font-bold text-orange-600",children:"FoodExpress"})}),r.jsxs("div",{className:"hidden md:flex items-center mx-4 text-gray-700",children:[r.jsx("i",{className:"fas fa-map-marker-alt text-orange-500 mr-2"}),r.jsx("span",{className:"text-sm",children:s})]}),r.jsxs("div",{className:"relative flex-1 max-w-xl mx-4",children:[r.jsx("input",{type:"text",placeholder:"Search for restaurants, cuisines...",className:"w-full py-2 px-4 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",value:l,onChange:f=>c(f.target.value)}),r.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 cursor-pointer",title:"Search","aria-label":"Search",children:r.jsx("i",{className:"fas fa-search","aria-hidden":"true"})})]}),r.jsx("div",{className:"flex items-center ml-4 gap-2 md:gap-4",children:t?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:S,className:"px-4 py-2 bg-white text-orange-600 border border-orange-600 rounded-button whitespace-nowrap hover:bg-orange-50 cursor-pointer",children:"My Orders"}),r.jsx("button",{onClick:()=>d("/profile"),className:"focus:outline-none",title:"Profile","aria-label":"Profile",children:r.jsx("span",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full text-white text-3xl font-bold uppercase",style:{background:"#FF6600"},children:u})})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>d("/signin"),className:"px-4 py-2 bg-white text-orange-600 border border-orange-600 rounded-button whitespace-nowrap hover:bg-orange-50 cursor-pointer",children:"Login"}),r.jsx("button",{onClick:()=>d("/signup"),className:"px-4 py-2 bg-orange-600 text-white rounded-button whitespace-nowrap hover:bg-orange-700 cursor-pointer",children:"Sign Up"})]})})]}),r.jsx("div",{className:"container mx-auto px-4 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[r.jsx("div",{className:"flex overflow-x-auto pb-2 md:pb-0 hide-scrollbar",children:N.map(f=>r.jsx("button",{className:`px-4 py-1.5 mr-2 rounded-full text-sm whitespace-nowrap cursor-pointer ${n===f?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>i(f),children:f},f))}),r.jsxs("div",{className:"relative mt-2 md:mt-0",children:[r.jsx("select",{title:"Sort Options",className:"appearance-none bg-white border border-gray-300 rounded-full px-4 py-1.5 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 cursor-pointer",value:a,onChange:f=>o(f.target.value),children:E.map(f=>r.jsxs("option",{value:f,children:["Sort by: ",f]},f))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:r.jsx("i",{className:"fas fa-chevron-down text-xs"})})]})]})})]}),r.jsxs("main",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"relative rounded-xl overflow-hidden mb-10 h-96",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-900 to-transparent z-10"}),r.jsx("div",{className:"absolute inset-0",children:r.jsx("img",{src:"https://readdy.ai/api/search-image?query=A%20stunning%20food%20delivery%20hero%20image%20showcasing%20a%20variety%20of%20delicious%20dishes%20including%20pizza%2C%20burgers%2C%20sushi%2C%20and%20salads%20arranged%20beautifully%20on%20a%20modern%20dining%20table.%20The%20left%20side%20has%20a%20gradient%20overlay%20that%20seamlessly%20blends%20with%20text.%20The%20image%20has%20professional%20food%20photography%20lighting%20with%20vibrant%20colors%20and%20appetizing%20presentation%20against%20a%20clean%20minimal%20background&width=1440&height=500&seq=9&orientation=landscape",alt:"Food delivery",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"relative z-20 h-full flex flex-col justify-center px-8 md:px-16 text-white max-w-2xl",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Delicious Food Delivered To Your Doorstep"}),r.jsx("p",{className:"text-lg md:text-xl mb-6",children:"Order from your favorite restaurants with just a few clicks"}),r.jsxs("div",{className:"flex",children:[r.jsx("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-button whitespace-nowrap font-medium cursor-pointer",onClick:()=>{t?d("/signup"):(U.error("Please sign in to order"),d("/signin"))},children:"Order Now"}),r.jsx("button",{className:"ml-4 bg-white hover:bg-gray-100 text-orange-600 px-6 py-3 rounded-button whitespace-nowrap font-medium cursor-pointer",onClick:()=>{t?d("/restaurants"):(U.error("Please sign in to view restaurants"),d("/signin"))},children:"View Restaurants"})]})]})]}),r.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Restaurants Near You"}),R.slice(0,8).length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:R.slice(0,8).map(f=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer",onClick:()=>{t?d(`/restaurant/${f._id}`):(U.error("Please sign in to view this restaurant"),d("/signin"))},children:[r.jsx("div",{className:"h-48 overflow-hidden",children:r.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-bold text-lg",children:f.name}),r.jsxs("div",{className:"flex items-center bg-green-100 px-2 py-1 rounded",children:[r.jsx("span",{className:"text-sm font-medium text-green-800",children:f.rating}),r.jsx("i",{className:"fas fa-star text-yellow-500 ml-1 text-xs"})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:_(f.address)}),r.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[r.jsxs("div",{className:"flex items-center mr-3",children:[r.jsx("i",{className:"fas fa-clock mr-1"}),r.jsxs("span",{children:[f.deliveryTime," min"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),r.jsxs("span",{children:[f.distance," mi"]})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Min. order: $",f.minOrder]}),r.jsxs("button",{className:"text-orange-600 hover:text-orange-700 text-sm font-medium cursor-pointer",onClick:I=>{I.stopPropagation(),t?d(`/restaurant/${f._id}`):(U.error("Please sign in to view this restaurant"),d("/signin"))},children:["View Restaurant ",r.jsx("i",{className:"fas fa-chevron-right ml-1 text-xs"})]})]})]})]},f._id))}):r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[r.jsx("i",{className:"fas fa-search text-5xl text-gray-300 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No restaurants found"}),r.jsx("p",{className:"text-gray-600",children:"We couldn't find any restaurants matching your search criteria. Please try different filters."}),r.jsx("button",{className:"mt-4 px-4 py-2 bg-orange-600 text-white rounded-button whitespace-nowrap hover:bg-orange-700 cursor-pointer",onClick:()=>{i("All"),c("")},children:"Clear Filters"})]})]}),r.jsx("section",{className:"bg-orange-50 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Why Choose FoodExpress?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("img",{src:"https://img.icons8.com/ios-filled/50/000000/lightning-bolt.png",alt:"Fast Delivery",className:"w-8 h-8"})}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Fast Delivery"}),r.jsx("p",{className:"text-gray-600",children:"Your favorite food delivered hot and fresh to your doorstep in under 35 minutes."})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("div",{className:"w-8 h-8",children:r.jsx("svg",{fill:"#000000",viewBox:"-38.07 -38.07 456.86 456.86",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000",strokeWidth:"0.0038",className:"w-full h-full",children:r.jsx("g",{children:r.jsxs("g",{children:[r.jsx("path",{d:"M190.372,29.813c-88.673,0-160.546,71.873-160.546,160.547c0,65.89,39.73,122.438,96.504,147.173l2.092-40.525 c0-32.242-23.83-21.912-23.83-44.465c0-12.641,0.395-38.98,0.395-58.755c0-52.697,22.377-103.673,27.874-115.048 c5.53-11.363,18.537-23.76,18.677-11.828c0,17.312,0.738,218.618,0.738,218.618h-0.035l2.463,61.241 c11.497,2.626,23.395,4.125,35.669,4.125c6.728,0,13.304-0.546,19.822-1.349l5.31-102.906 c-13.106-2.869-24.283-11.212-31.295-21.68c-8.685-13.014,6.675-128.067,6.675-128.067h10.004v107.978h9.922V96.894h10.84v107.978 h9.889V96.894h11.258v107.978h9.911V96.894h7.668c0,0,15.349,115.054,6.669,128.067c-6.947,10.363-18.009,18.682-30.952,21.633 c-0.232,0.07-0.441,0.163-0.441,0.163l5.02,95.993c63.995-21.11,110.249-81.307,110.249-152.39 C350.907,101.687,279.034,29.813,190.372,29.813z"}),r.jsx("path",{d:"M190.372,0C85.415,0,0,85.397,0,190.36C0,295.3,85.415,380.721,190.372,380.721c104.952,0,190.35-85.421,190.35-190.361 C380.721,85.397,295.324,0,190.372,0z M190.372,366.523c-97.144,0-176.18-79.03-176.18-176.163 c0-97.144,79.036-176.18,176.18-176.18c97.133,0,176.175,79.036,176.175,176.18C366.546,287.493,287.504,366.523,190.372,366.523z"})]})})})})}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Local Restaurants"}),r.jsx("p",{className:"text-gray-600",children:"Support local businesses by ordering from the best restaurants in your neighborhood."})]}),r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("img",{src:"https://img.icons8.com/ios-filled/50/000000/map-marker.png",alt:"Live Tracking",className:"w-8 h-8"})}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Live Tracking"}),r.jsx("p",{className:"text-gray-600",children:"Track your order in real-time and know exactly when your food will arrive—all from your browser, no app needed!"})]})]})]})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Popular Cuisines"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:N.filter(f=>f!=="All").map(f=>r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center hover:shadow-md transition-shadow cursor-pointer",onClick:()=>i(f),children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-3 rounded-full overflow-hidden",children:r.jsx("img",{src:`https://readdy.ai/api/search-image?query=${f}%20cuisine%20food%20dish%20presented%20beautifully%20on%20a%20clean%20white%20plate%20with%20minimal%20styling%20and%20soft%20natural%20lighting%2C%20showcasing%20authentic%20traditional%20preparation%20with%20vibrant%20colors%20and%20fresh%20ingredients&width=100&height=100&seq=${N.indexOf(f)}&orientation=squarish`,alt:f,className:"w-full h-full object-cover"})}),r.jsx("h3",{className:"font-medium",children:f})]},f))})]})}),r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How It Works"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold",children:"1"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Choose a Restaurant"}),r.jsx("p",{className:"text-gray-600",children:"Browse through our extensive list of restaurants near you"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold",children:"2"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Select Your Meal"}),r.jsx("p",{className:"text-gray-600",children:"Choose from a variety of delicious dishes on the menu"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold",children:"3"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Place Your Order"}),r.jsx("p",{className:"text-gray-600",children:"Confirm your order and choose cash on delivery"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 text-white text-xl font-bold",children:"4"}),r.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Enjoy Your Food"}),r.jsx("p",{className:"text-gray-600",children:"Track your order and enjoy your meal when it arrives"})]})]})]})}),r.jsx("footer",{className:"bg-gray-900 text-white pt-12 pb-6",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"WT-FoodExpress"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Delivering happiness with every order."}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:r.jsx("i",{className:"fab fa-twitter"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:r.jsx("i",{className:"fab fa-linkedin-in"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Home"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Restaurants"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"About Us"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Contact"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Legal"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Terms of Service"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Privacy Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Refund Policy"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"text-gray-400 hover:text-white cursor-pointer",children:"Cookie Policy"})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("i",{className:"fas fa-map-marker-alt mt-1 mr-2"}),r.jsx("span",{children:"123 Food Street, Erode, 638052"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-phone-alt mr-2"}),r.jsx("span",{children:"+1 (555) 123-4567"})]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx("i",{className:"fas fa-envelope mr-2"}),r.jsx("span",{children:"support@foodexpress.com"})]})]})]})]}),r.jsxs("div",{className:"pt-6 border-t border-gray-800 text-center text-gray-400 text-sm",children:[r.jsxs("p",{children:["© ",new Date().getFullYear(),"FoodExpress. All rights reserved."]}),r.jsxs("div",{className:"flex justify-center mt-4 space-x-4",children:[r.jsx("i",{className:"fab fa-cc-visa text-2xl"}),r.jsx("i",{className:"fab fa-cc-mastercard text-2xl"}),r.jsx("i",{className:"fab fa-cc-amex text-2xl"}),r.jsx("i",{className:"fab fa-cc-paypal text-2xl"})]})]})]})}),r.jsx("style",{children:`
        .hide-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .hide-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .rounded-button {
          border-radius: 9999px;
        }
      `})]})},Pn=()=>{const t=oe();return r.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-md w-full text-center",children:[r.jsx("h1",{className:"text-9xl font-bold text-orange-500",children:"404"}),r.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mt-4",children:"Page Not Found"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"The page you're looking for doesn't exist or has been moved."}),r.jsxs("div",{className:"mt-8 space-x-4",children:[r.jsx("button",{onClick:()=>t(-1),className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Go Back"}),r.jsx("button",{onClick:()=>t("/"),className:"px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Go Home"})]})]})})},Mm=()=>{m.useEffect(()=>(()=>{try{const s={passive:!0},n="onwheel"in document?"wheel":"mousewheel",i=()=>{};return window.addEventListener("touchstart",i,s),window.addEventListener(n,i,s),()=>{window.removeEventListener("touchstart",i,s),window.removeEventListener(n,i,s)}}catch(s){console.error("Passive events are not supported",s)}})(),[])},ge=({children:t})=>{const[e,s]=m.useState(!0),[n,i]=m.useState(null),a=An();return m.useEffect(()=>{const o=ne(),l=Tr(o,c=>{i(c),s(!1)});return()=>l()},[]),e?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}):n?t:r.jsx(Rn,{to:"/signin",state:{from:a},replace:!0})},$s=({children:t})=>{const[e,s]=m.useState(!0),[n,i]=m.useState(null),a=An();return m.useEffect(()=>{const o=ne(),l=Tr(o,c=>{i(c),s(!1)});return()=>l()},[]),e?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-orange-500"})}):n&&(a.pathname==="/signin"||a.pathname==="/signup")?r.jsx(Rn,{to:"/",replace:!0}):t},Um=()=>r.jsxs(ba,{children:[r.jsx(Y,{path:"/",element:r.jsx($s,{children:r.jsx(Lm,{})})}),r.jsx(Y,{path:"/signin",element:r.jsx($s,{children:r.jsx(mm,{})})}),r.jsx(Y,{path:"/signup",element:r.jsx($s,{children:r.jsx(Sm,{})})}),r.jsx(Y,{path:"/test",element:r.jsx("div",{style:{padding:"20px",fontSize:"24px"},children:"🚀 Test Route is Working!"})}),r.jsx(Y,{path:"/home",element:r.jsx(ge,{children:r.jsx(Om,{})})}),r.jsx(Y,{path:"/menu-item/:id",element:r.jsx(ge,{children:r.jsx(Qo,{})})}),r.jsx(Y,{path:"/restaurant/:id",element:r.jsx(ge,{children:r.jsx(Cf,{})})}),r.jsx(Y,{path:"/restaurants",element:r.jsx(ge,{children:r.jsx($f,{})})}),r.jsx(Y,{path:"/cart",element:r.jsx(ge,{children:r.jsx(Hf,{})})}),r.jsx(Y,{path:"/order-confirmation",element:r.jsx(ge,{children:r.jsx(Vf,{})})}),r.jsx(Y,{path:"/order-placed",element:r.jsx(ge,{children:r.jsx(Tn,{})})}),r.jsx(Y,{path:"/profile",element:r.jsx(ge,{children:r.jsx(km,{})})}),r.jsx(Y,{path:"/orders",element:r.jsx(ge,{children:r.jsx(Am,{})})}),r.jsx(Y,{path:"/cart-details/:orderId",element:r.jsx(ge,{children:r.jsx(Tn,{})})}),r.jsx(Y,{path:"/404",element:r.jsx(Pn,{})}),r.jsx(Y,{path:"*",element:r.jsx(Pn,{})})]}),Fm=()=>(Mm(),r.jsxs(r.Fragment,{children:[r.jsx(Um,{}),r.jsx(cr,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}));Ea.createRoot(document.getElementById("root")).render(r.jsx(L.StrictMode,{children:r.jsx(va,{basename:"/",children:r.jsxs(Xo,{children:[r.jsx(Fm,{}),r.jsx(Yo,{position:"top-center"})]})})}));
//# sourceMappingURL=index-wK0uNLK2.js.map
